<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>handlebars.c: handlebars_map.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">handlebars.c
   &#160;<span id="projectnumber">0.6.0</span>
   </div>
   <div id="projectbrief">Libraryforhandlebars</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('handlebars__map_8c.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">handlebars_map.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;assert.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &quot;<a class="el" href="handlebars_8h_source.html">handlebars.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="handlebars__map_8h_source.html">handlebars_map.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="handlebars__memory_8h_source.html">handlebars_memory.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="handlebars__private_8h_source.html">handlebars_private.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="handlebars__string_8h_source.html">handlebars_string.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="handlebars__value_8h_source.html">handlebars_value.h</a>&quot;</code><br />
</div>
<p><a href="handlebars__map_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:af195e2296079bbf21ae1c19823f0f036"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="handlebars__map_8c.html#af195e2296079bbf21ae1c19823f0f036">CONTEXT</a>&#160;&#160;&#160;<a class="el" href="handlebars_8h.html#aeaa554d04fd9ac8b882e4fdf0dc44264">HBSCTX</a>(ctx)</td></tr>
<tr class="separator:af195e2296079bbf21ae1c19823f0f036"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af195e2296079bbf21ae1c19823f0f036"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="handlebars__map_8c.html#af195e2296079bbf21ae1c19823f0f036">CONTEXT</a>&#160;&#160;&#160;<a class="el" href="handlebars_8h.html#aeaa554d04fd9ac8b882e4fdf0dc44264">HBSCTX</a>(map-&gt;ctx)</td></tr>
<tr class="separator:af195e2296079bbf21ae1c19823f0f036"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a8d870ec3affcf3205583d954ddc634d5"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structhandlebars__map.html">handlebars_map</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="handlebars__map_8c.html#a8d870ec3affcf3205583d954ddc634d5">handlebars_map_ctor</a> (struct <a class="el" href="structhandlebars__context.html">handlebars_context</a> *ctx)</td></tr>
<tr class="memdesc:a8d870ec3affcf3205583d954ddc634d5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct a new map.  <a href="#a8d870ec3affcf3205583d954ddc634d5">More...</a><br /></td></tr>
<tr class="separator:a8d870ec3affcf3205583d954ddc634d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa3de74c0eb15720b93b7373d0e884242"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="handlebars__map_8c.html#aa3de74c0eb15720b93b7373d0e884242">handlebars_map_dtor</a> (struct <a class="el" href="structhandlebars__map.html">handlebars_map</a> *map)</td></tr>
<tr class="memdesc:aa3de74c0eb15720b93b7373d0e884242"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destruct a map.  <a href="#aa3de74c0eb15720b93b7373d0e884242">More...</a><br /></td></tr>
<tr class="separator:aa3de74c0eb15720b93b7373d0e884242"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af92440c2ac86e92e91c649f721a60d51"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="handlebars__map_8c.html#af92440c2ac86e92e91c649f721a60d51">handlebars_map_entry_eq</a> (struct <a class="el" href="structhandlebars__map__entry.html">handlebars_map_entry</a> *entry1, struct <a class="el" href="structhandlebars__map__entry.html">handlebars_map_entry</a> *entry2)</td></tr>
<tr class="separator:af92440c2ac86e92e91c649f721a60d51"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f9417350fc4c33b1c386237992649b4"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="handlebars__map_8c.html#a0f9417350fc4c33b1c386237992649b4">_ht_add</a> (struct <a class="el" href="structhandlebars__map__entry.html">handlebars_map_entry</a> **table, size_t table_size, struct <a class="el" href="structhandlebars__map__entry.html">handlebars_map_entry</a> *entry)</td></tr>
<tr class="separator:a0f9417350fc4c33b1c386237992649b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d7f2ee3e2734534fe90e07d640b66f9"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="handlebars__map_8c.html#a0d7f2ee3e2734534fe90e07d640b66f9">_rehash</a> (struct <a class="el" href="structhandlebars__map.html">handlebars_map</a> *map)</td></tr>
<tr class="separator:a0d7f2ee3e2734534fe90e07d640b66f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3bf971ea41167396132d858f105f7fc8"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structhandlebars__map__entry.html">handlebars_map_entry</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="handlebars__map_8c.html#a3bf971ea41167396132d858f105f7fc8">_entry_find</a> (struct <a class="el" href="structhandlebars__map.html">handlebars_map</a> *map, const char *key, size_t <a class="el" href="handlebars__string_8h.html#ae809d5359ac030c60a30a8f0b2294b82">length</a>, unsigned long <a class="el" href="handlebars__helpers__ht_8h.html#a83fd4055f682ef07947a99b3df60feb5">hash</a>)</td></tr>
<tr class="separator:a3bf971ea41167396132d858f105f7fc8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4540f81e8fb570371a1fb84858957b03"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="handlebars__map_8c.html#a4540f81e8fb570371a1fb84858957b03">_entry_add</a> (struct <a class="el" href="structhandlebars__map.html">handlebars_map</a> *map, const char *key, size_t <a class="el" href="handlebars__string_8h.html#adf41794220897ad98a5856b62c8d51a9">len</a>, unsigned long <a class="el" href="handlebars__helpers__ht_8h.html#a83fd4055f682ef07947a99b3df60feb5">hash</a>, struct <a class="el" href="structhandlebars__value.html">handlebars_value</a> *value)</td></tr>
<tr class="separator:a4540f81e8fb570371a1fb84858957b03"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af085906db3ed04a2104f654f3be91890"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="handlebars__map_8c.html#af085906db3ed04a2104f654f3be91890">_entry_remove</a> (struct <a class="el" href="structhandlebars__map.html">handlebars_map</a> *map, struct <a class="el" href="structhandlebars__map__entry.html">handlebars_map_entry</a> *entry)</td></tr>
<tr class="separator:af085906db3ed04a2104f654f3be91890"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe179c245fa9d8f0b4e472e929f321b5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="handlebars__map_8c.html#abe179c245fa9d8f0b4e472e929f321b5">handlebars_map_add</a> (struct <a class="el" href="structhandlebars__map.html">handlebars_map</a> *map, struct <a class="el" href="structhandlebars__string.html">handlebars_string</a> *<a class="el" href="handlebars__string_8h.html#ae95097e7b19d03467506a1b14ae1355e">string</a>, struct <a class="el" href="structhandlebars__value.html">handlebars_value</a> *value)</td></tr>
<tr class="memdesc:abe179c245fa9d8f0b4e472e929f321b5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a value to a map. Adding a key twice is an error, use <a class="el" href="handlebars__map_8h.html#aa7bff6b541fcbd187aa853a2357a0576" title="Update or add a value (handlebars_string variant) ">handlebars_map_update</a> instead. (<a class="el" href="structhandlebars__string.html">handlebars_string</a> variant)  <a href="#abe179c245fa9d8f0b4e472e929f321b5">More...</a><br /></td></tr>
<tr class="separator:abe179c245fa9d8f0b4e472e929f321b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3814fbfbd6ec2006318981c198b33dac"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="handlebars__map_8c.html#a3814fbfbd6ec2006318981c198b33dac">handlebars_map_str_add</a> (struct <a class="el" href="structhandlebars__map.html">handlebars_map</a> *map, const char *key, size_t <a class="el" href="handlebars__string_8h.html#adf41794220897ad98a5856b62c8d51a9">len</a>, struct <a class="el" href="structhandlebars__value.html">handlebars_value</a> *value)</td></tr>
<tr class="memdesc:a3814fbfbd6ec2006318981c198b33dac"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a value to a map. Adding a key twice is an error, use <a class="el" href="handlebars__map_8h.html#ad71119f301f84654f0d26a1d4a7f9595" title="Update or add a value (const char[] with length variant) ">handlebars_map_str_update</a> instead. (const char[] with length variant)  <a href="#a3814fbfbd6ec2006318981c198b33dac">More...</a><br /></td></tr>
<tr class="separator:a3814fbfbd6ec2006318981c198b33dac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a80ab99a15039d7e853b530e18ccd2fe5"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="handlebars__map_8c.html#a80ab99a15039d7e853b530e18ccd2fe5">handlebars_map_remove</a> (struct <a class="el" href="structhandlebars__map.html">handlebars_map</a> *map, struct <a class="el" href="structhandlebars__string.html">handlebars_string</a> *key)</td></tr>
<tr class="memdesc:a80ab99a15039d7e853b530e18ccd2fe5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove a value by key (<a class="el" href="structhandlebars__string.html">handlebars_string</a> variant)  <a href="#a80ab99a15039d7e853b530e18ccd2fe5">More...</a><br /></td></tr>
<tr class="separator:a80ab99a15039d7e853b530e18ccd2fe5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac6dfba2e3554f821a38860faf4dffea3"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="handlebars__map_8c.html#ac6dfba2e3554f821a38860faf4dffea3">handlebars_map_str_remove</a> (struct <a class="el" href="structhandlebars__map.html">handlebars_map</a> *map, const char *key, size_t <a class="el" href="handlebars__string_8h.html#adf41794220897ad98a5856b62c8d51a9">len</a>)</td></tr>
<tr class="memdesc:ac6dfba2e3554f821a38860faf4dffea3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove a value by key (const char[] with length variant)  <a href="#ac6dfba2e3554f821a38860faf4dffea3">More...</a><br /></td></tr>
<tr class="separator:ac6dfba2e3554f821a38860faf4dffea3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad8b6e93ba604a99412c9ec9302ab992b"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structhandlebars__value.html">handlebars_value</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="handlebars__map_8c.html#ad8b6e93ba604a99412c9ec9302ab992b">handlebars_map_find</a> (struct <a class="el" href="structhandlebars__map.html">handlebars_map</a> *map, struct <a class="el" href="structhandlebars__string.html">handlebars_string</a> *key)</td></tr>
<tr class="memdesc:ad8b6e93ba604a99412c9ec9302ab992b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find a value by key (<a class="el" href="structhandlebars__string.html">handlebars_string</a> variant)  <a href="#ad8b6e93ba604a99412c9ec9302ab992b">More...</a><br /></td></tr>
<tr class="separator:ad8b6e93ba604a99412c9ec9302ab992b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae2394e9217e3ab9632ac8bf84d91d485"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structhandlebars__value.html">handlebars_value</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="handlebars__map_8c.html#ae2394e9217e3ab9632ac8bf84d91d485">handlebars_map_str_find</a> (struct <a class="el" href="structhandlebars__map.html">handlebars_map</a> *map, const char *key, size_t <a class="el" href="handlebars__string_8h.html#adf41794220897ad98a5856b62c8d51a9">len</a>)</td></tr>
<tr class="memdesc:ae2394e9217e3ab9632ac8bf84d91d485"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find a value by key (const char[] with length variant)  <a href="#ae2394e9217e3ab9632ac8bf84d91d485">More...</a><br /></td></tr>
<tr class="separator:ae2394e9217e3ab9632ac8bf84d91d485"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6d46b8067c6426d9311c82b2c549019"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="handlebars__map_8c.html#aa6d46b8067c6426d9311c82b2c549019">handlebars_map_update</a> (struct <a class="el" href="structhandlebars__map.html">handlebars_map</a> *map, struct <a class="el" href="structhandlebars__string.html">handlebars_string</a> *key, struct <a class="el" href="structhandlebars__value.html">handlebars_value</a> *value)</td></tr>
<tr class="memdesc:aa6d46b8067c6426d9311c82b2c549019"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update or add a value (<a class="el" href="structhandlebars__string.html">handlebars_string</a> variant)  <a href="#aa6d46b8067c6426d9311c82b2c549019">More...</a><br /></td></tr>
<tr class="separator:aa6d46b8067c6426d9311c82b2c549019"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a12e81c20cb3765b99cb40e1a4530b962"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="handlebars__map_8c.html#a12e81c20cb3765b99cb40e1a4530b962">handlebars_map_str_update</a> (struct <a class="el" href="structhandlebars__map.html">handlebars_map</a> *map, const char *key, size_t <a class="el" href="handlebars__string_8h.html#adf41794220897ad98a5856b62c8d51a9">len</a>, struct <a class="el" href="structhandlebars__value.html">handlebars_value</a> *value)</td></tr>
<tr class="memdesc:a12e81c20cb3765b99cb40e1a4530b962"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update or add a value (const char[] with length variant)  <a href="#a12e81c20cb3765b99cb40e1a4530b962">More...</a><br /></td></tr>
<tr class="separator:a12e81c20cb3765b99cb40e1a4530b962"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="af195e2296079bbf21ae1c19823f0f036"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CONTEXT&#160;&#160;&#160;<a class="el" href="handlebars_8h.html#aeaa554d04fd9ac8b882e4fdf0dc44264">HBSCTX</a>(ctx)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Copyright (C) 2016 John Boehr</p>
<p>This file is part of <a class="el" href="handlebars_8c.html">handlebars.c</a>.</p>
<p><a class="el" href="handlebars_8c.html">handlebars.c</a> is free software: you can redistribute it and/or modify it under the terms of the GNU Lesser General Public License as published by the Free Software Foundation, either version 2.1 of the License, or (at your option) any later version.</p>
<p><a class="el" href="handlebars_8c.html">handlebars.c</a> is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Lesser General Public License for more details.</p>
<p>You should have received a copy of the GNU Lesser General Public License along with <a class="el" href="handlebars_8c.html">handlebars.c</a>. If not, see <a href="http://www.gnu.org/licenses/">http://www.gnu.org/licenses/</a>. </p>

<p>Definition at line <a class="el" href="handlebars__map_8c_source.html#l00050">50</a> of file <a class="el" href="handlebars__map_8c_source.html">handlebars_map.c</a>.</p>

</div>
</div>
<a class="anchor" id="af195e2296079bbf21ae1c19823f0f036"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CONTEXT&#160;&#160;&#160;<a class="el" href="handlebars_8h.html#aeaa554d04fd9ac8b882e4fdf0dc44264">HBSCTX</a>(map-&gt;ctx)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Copyright (C) 2016 John Boehr</p>
<p>This file is part of <a class="el" href="handlebars_8c.html">handlebars.c</a>.</p>
<p><a class="el" href="handlebars_8c.html">handlebars.c</a> is free software: you can redistribute it and/or modify it under the terms of the GNU Lesser General Public License as published by the Free Software Foundation, either version 2.1 of the License, or (at your option) any later version.</p>
<p><a class="el" href="handlebars_8c.html">handlebars.c</a> is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Lesser General Public License for more details.</p>
<p>You should have received a copy of the GNU Lesser General Public License along with <a class="el" href="handlebars_8c.html">handlebars.c</a>. If not, see <a href="http://www.gnu.org/licenses/">http://www.gnu.org/licenses/</a>. </p>

<p>Definition at line <a class="el" href="handlebars__map_8c_source.html#l00050">50</a> of file <a class="el" href="handlebars__map_8c_source.html">handlebars_map.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a4540f81e8fb570371a1fb84858957b03"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void _entry_add </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structhandlebars__map.html">handlebars_map</a> *&#160;</td>
          <td class="paramname"><em>map</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>hash</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structhandlebars__value.html">handlebars_value</a> *&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="handlebars__map_8c_source.html#l00140">140</a> of file <a class="el" href="handlebars__map_8c_source.html">handlebars_map.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;{</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    <span class="keyword">struct </span><a class="code" href="structhandlebars__map__entry.html">handlebars_map_entry</a> * entry = <a class="code" href="handlebars__private_8h.html#a82f25723efb47b667ac4b68d8c8bfba9">MC</a>(<a class="code" href="handlebars__memory_8h.html#a4a17829b92cce6ae02bc3174fd6c0e30">handlebars_talloc_zero</a>(map, <span class="keyword">struct</span> <a class="code" href="structhandlebars__map__entry.html">handlebars_map_entry</a>));</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    entry-&gt;<a class="code" href="structhandlebars__map__entry.html#a037bab0bb673fea2a83439a08822117e">key</a> = talloc_steal(entry, handlebars_string_ctor_ex(<a class="code" href="handlebars__map_8c.html#af195e2296079bbf21ae1c19823f0f036">CONTEXT</a>, <a class="code" href="structhandlebars__map__entry.html#a037bab0bb673fea2a83439a08822117e">key</a>, <a class="code" href="handlebars__helpers__ht_8h.html#adf41794220897ad98a5856b62c8d51a9">len</a>, <a class="code" href="handlebars__string_8h.html#a3e3a5c207d0c401ded36af7663ab2548">hash</a>));</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    entry-&gt;<a class="code" href="structhandlebars__map__entry.html#af967f0018a3976ecc23e5ae91deca8e4">value</a> = <a class="code" href="structhandlebars__map__entry.html#af967f0018a3976ecc23e5ae91deca8e4">value</a>;</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    <a class="code" href="handlebars__value_8h.html#a0ebd8b740bbe25c2adce618cdeee631a">handlebars_value_addref</a>(value);</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    <span class="comment">// Add to linked list</span></div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    <span class="keywordflow">if</span>( !map-&gt;<a class="code" href="structhandlebars__map.html#a262187a72fd3ff6fde60cf7bfcc8fec0">first</a> ) {</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;        map-&gt;<a class="code" href="structhandlebars__map.html#a262187a72fd3ff6fde60cf7bfcc8fec0">first</a> = map-&gt;<a class="code" href="structhandlebars__map.html#a728391ebd21a178f6731e16eb466fa07">last</a> = entry;</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;        map-&gt;<a class="code" href="structhandlebars__map.html#a728391ebd21a178f6731e16eb466fa07">last</a>-&gt;<a class="code" href="structhandlebars__map__entry.html#a4676846c8bf4a50ff6e7de71528d9293">next</a> = entry;</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;        entry-&gt;<a class="code" href="structhandlebars__map__entry.html#abf70291badcab082899544f541061f2f">prev</a> = map-&gt;<a class="code" href="structhandlebars__map.html#a728391ebd21a178f6731e16eb466fa07">last</a>;</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;        map-&gt;<a class="code" href="structhandlebars__map.html#a728391ebd21a178f6731e16eb466fa07">last</a> = entry;</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    }</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    <span class="comment">// Add to hash table</span></div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    map-&gt;<a class="code" href="structhandlebars__map.html#ad53b7ee7f1274a5fc3784d8dfc3cea36">collisions</a> += <a class="code" href="handlebars__map_8c.html#a0f9417350fc4c33b1c386237992649b4">_ht_add</a>(map-&gt;<a class="code" href="structhandlebars__map.html#ac2994fdaeaa8cf434eec60a72db34f65">table</a>, map-&gt;<a class="code" href="structhandlebars__map.html#a9472147c93eae2f4e638b271585c774b">table_size</a>, entry);</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    <span class="comment">// Rehash</span></div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    <span class="keywordflow">if</span>( map-&gt;<a class="code" href="structhandlebars__map.html#ac3110bbc7ffa65eac41ce975137d9c61">i</a> * 1000 / map-&gt;<a class="code" href="structhandlebars__map.html#a9472147c93eae2f4e638b271585c774b">table_size</a> &gt; 500 ) { <span class="comment">// @todo adjust</span></div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;        <a class="code" href="handlebars__map_8c.html#a0d7f2ee3e2734534fe90e07d640b66f9">_rehash</a>(map);</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    }</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    map-&gt;<a class="code" href="structhandlebars__map.html#ac3110bbc7ffa65eac41ce975137d9c61">i</a>++;</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;}</div><div class="ttc" id="structhandlebars__map__entry_html"><div class="ttname"><a href="structhandlebars__map__entry.html">handlebars_map_entry</a></div><div class="ttdef"><b>Definition:</b> <a href="handlebars__map_8h_source.html#l00032">handlebars_map.h:32</a></div></div>
<div class="ttc" id="structhandlebars__map__entry_html_af967f0018a3976ecc23e5ae91deca8e4"><div class="ttname"><a href="structhandlebars__map__entry.html#af967f0018a3976ecc23e5ae91deca8e4">handlebars_map_entry::value</a></div><div class="ttdeci">struct handlebars_value * value</div><div class="ttdef"><b>Definition:</b> <a href="handlebars__map_8h_source.html#l00034">handlebars_map.h:34</a></div></div>
<div class="ttc" id="handlebars__private_8h_html_a82f25723efb47b667ac4b68d8c8bfba9"><div class="ttname"><a href="handlebars__private_8h.html#a82f25723efb47b667ac4b68d8c8bfba9">MC</a></div><div class="ttdeci">#define MC(ptr)</div><div class="ttdef"><b>Definition:</b> <a href="handlebars__private_8h_source.html#l00039">handlebars_private.h:39</a></div></div>
<div class="ttc" id="structhandlebars__map__entry_html_a037bab0bb673fea2a83439a08822117e"><div class="ttname"><a href="structhandlebars__map__entry.html#a037bab0bb673fea2a83439a08822117e">handlebars_map_entry::key</a></div><div class="ttdeci">struct handlebars_string * key</div><div class="ttdef"><b>Definition:</b> <a href="handlebars__map_8h_source.html#l00033">handlebars_map.h:33</a></div></div>
<div class="ttc" id="structhandlebars__map_html_ad53b7ee7f1274a5fc3784d8dfc3cea36"><div class="ttname"><a href="structhandlebars__map.html#ad53b7ee7f1274a5fc3784d8dfc3cea36">handlebars_map::collisions</a></div><div class="ttdeci">size_t collisions</div><div class="ttdef"><b>Definition:</b> <a href="handlebars__map_8h_source.html#l00048">handlebars_map.h:48</a></div></div>
<div class="ttc" id="handlebars__string_8h_html_a3e3a5c207d0c401ded36af7663ab2548"><div class="ttname"><a href="handlebars__string_8h.html#a3e3a5c207d0c401ded36af7663ab2548">hash</a></div><div class="ttdeci">const char size_t unsigned long hash</div><div class="ttdef"><b>Definition:</b> <a href="handlebars__string_8h_source.html#l00097">handlebars_string.h:97</a></div></div>
<div class="ttc" id="handlebars__helpers__ht_8h_html_adf41794220897ad98a5856b62c8d51a9"><div class="ttname"><a href="handlebars__helpers__ht_8h.html#adf41794220897ad98a5856b62c8d51a9">len</a></div><div class="ttdeci">register unsigned int len</div><div class="ttdef"><b>Definition:</b> <a href="handlebars__helpers__ht_8h_source.html#l00052">handlebars_helpers_ht.h:52</a></div></div>
<div class="ttc" id="structhandlebars__map__entry_html_a4676846c8bf4a50ff6e7de71528d9293"><div class="ttname"><a href="structhandlebars__map__entry.html#a4676846c8bf4a50ff6e7de71528d9293">handlebars_map_entry::next</a></div><div class="ttdeci">struct handlebars_map_entry * next</div><div class="ttdef"><b>Definition:</b> <a href="handlebars__map_8h_source.html#l00035">handlebars_map.h:35</a></div></div>
<div class="ttc" id="handlebars__memory_8h_html_a4a17829b92cce6ae02bc3174fd6c0e30"><div class="ttname"><a href="handlebars__memory_8h.html#a4a17829b92cce6ae02bc3174fd6c0e30">handlebars_talloc_zero</a></div><div class="ttdeci">#define handlebars_talloc_zero</div><div class="ttdef"><b>Definition:</b> <a href="handlebars__memory_8h_source.html#l00053">handlebars_memory.h:53</a></div></div>
<div class="ttc" id="structhandlebars__map__entry_html_abf70291badcab082899544f541061f2f"><div class="ttname"><a href="structhandlebars__map__entry.html#abf70291badcab082899544f541061f2f">handlebars_map_entry::prev</a></div><div class="ttdeci">struct handlebars_map_entry * prev</div><div class="ttdef"><b>Definition:</b> <a href="handlebars__map_8h_source.html#l00036">handlebars_map.h:36</a></div></div>
<div class="ttc" id="structhandlebars__map_html_ac2994fdaeaa8cf434eec60a72db34f65"><div class="ttname"><a href="structhandlebars__map.html#ac2994fdaeaa8cf434eec60a72db34f65">handlebars_map::table</a></div><div class="ttdeci">struct handlebars_map_entry ** table</div><div class="ttdef"><b>Definition:</b> <a href="handlebars__map_8h_source.html#l00047">handlebars_map.h:47</a></div></div>
<div class="ttc" id="handlebars__map_8c_html_af195e2296079bbf21ae1c19823f0f036"><div class="ttname"><a href="handlebars__map_8c.html#af195e2296079bbf21ae1c19823f0f036">CONTEXT</a></div><div class="ttdeci">#define CONTEXT</div><div class="ttdef"><b>Definition:</b> <a href="handlebars__map_8c_source.html#l00050">handlebars_map.c:50</a></div></div>
<div class="ttc" id="structhandlebars__map_html_a262187a72fd3ff6fde60cf7bfcc8fec0"><div class="ttname"><a href="structhandlebars__map.html#a262187a72fd3ff6fde60cf7bfcc8fec0">handlebars_map::first</a></div><div class="ttdeci">struct handlebars_map_entry * first</div><div class="ttdef"><b>Definition:</b> <a href="handlebars__map_8h_source.html#l00044">handlebars_map.h:44</a></div></div>
<div class="ttc" id="handlebars__value_8h_html_a0ebd8b740bbe25c2adce618cdeee631a"><div class="ttname"><a href="handlebars__value_8h.html#a0ebd8b740bbe25c2adce618cdeee631a">handlebars_value_addref</a></div><div class="ttdeci">static int handlebars_value_addref(struct handlebars_value *value)</div><div class="ttdef"><b>Definition:</b> <a href="handlebars__value_8h_source.html#l00318">handlebars_value.h:318</a></div></div>
<div class="ttc" id="handlebars__map_8c_html_a0f9417350fc4c33b1c386237992649b4"><div class="ttname"><a href="handlebars__map_8c.html#a0f9417350fc4c33b1c386237992649b4">_ht_add</a></div><div class="ttdeci">static int _ht_add(struct handlebars_map_entry **table, size_t table_size, struct handlebars_map_entry *entry)</div><div class="ttdef"><b>Definition:</b> <a href="handlebars__map_8c_source.html#l00071">handlebars_map.c:71</a></div></div>
<div class="ttc" id="handlebars__map_8c_html_a0d7f2ee3e2734534fe90e07d640b66f9"><div class="ttname"><a href="handlebars__map_8c.html#a0d7f2ee3e2734534fe90e07d640b66f9">_rehash</a></div><div class="ttdeci">static void _rehash(struct handlebars_map *map)</div><div class="ttdef"><b>Definition:</b> <a href="handlebars__map_8c_source.html#l00095">handlebars_map.c:95</a></div></div>
<div class="ttc" id="structhandlebars__map_html_a9472147c93eae2f4e638b271585c774b"><div class="ttname"><a href="structhandlebars__map.html#a9472147c93eae2f4e638b271585c774b">handlebars_map::table_size</a></div><div class="ttdeci">size_t table_size</div><div class="ttdef"><b>Definition:</b> <a href="handlebars__map_8h_source.html#l00046">handlebars_map.h:46</a></div></div>
<div class="ttc" id="structhandlebars__map_html_ac3110bbc7ffa65eac41ce975137d9c61"><div class="ttname"><a href="structhandlebars__map.html#ac3110bbc7ffa65eac41ce975137d9c61">handlebars_map::i</a></div><div class="ttdeci">size_t i</div><div class="ttdef"><b>Definition:</b> <a href="handlebars__map_8h_source.html#l00043">handlebars_map.h:43</a></div></div>
<div class="ttc" id="structhandlebars__map_html_a728391ebd21a178f6731e16eb466fa07"><div class="ttname"><a href="structhandlebars__map.html#a728391ebd21a178f6731e16eb466fa07">handlebars_map::last</a></div><div class="ttdeci">struct handlebars_map_entry * last</div><div class="ttdef"><b>Definition:</b> <a href="handlebars__map_8h_source.html#l00045">handlebars_map.h:45</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a3bf971ea41167396132d858f105f7fc8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structhandlebars__map__entry.html">handlebars_map_entry</a>* _entry_find </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structhandlebars__map.html">handlebars_map</a> *&#160;</td>
          <td class="paramname"><em>map</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>hash</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="handlebars__map_8c_source.html#l00126">126</a> of file <a class="el" href="handlebars__map_8c_source.html">handlebars_map.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;{</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    <span class="keyword">struct </span><a class="code" href="structhandlebars__map__entry.html">handlebars_map_entry</a> * found = map-&gt;<a class="code" href="structhandlebars__map.html#ac2994fdaeaa8cf434eec60a72db34f65">table</a>[<a class="code" href="handlebars__string_8h.html#a3e3a5c207d0c401ded36af7663ab2548">hash</a>  % map-&gt;<a class="code" href="structhandlebars__map.html#a9472147c93eae2f4e638b271585c774b">table_size</a>];</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    <span class="keywordflow">while</span>( found ) {</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="handlebars__string_8h.html#a6f87728d6b22d7756027a6e4aa61b381">handlebars_string_eq_ex</a>(found-&gt;<a class="code" href="structhandlebars__map__entry.html#a037bab0bb673fea2a83439a08822117e">key</a>-&gt;<a class="code" href="structhandlebars__string.html#a456ab79b6ad1d1f3bf8aa6c183a8abfc">val</a>, found-&gt;<a class="code" href="structhandlebars__map__entry.html#a037bab0bb673fea2a83439a08822117e">key</a>-&gt;<a class="code" href="structhandlebars__string.html#a857b514c991646164995d912822c4e93">len</a>, found-&gt;<a class="code" href="structhandlebars__map__entry.html#a037bab0bb673fea2a83439a08822117e">key</a>-&gt;<a class="code" href="structhandlebars__string.html#ad12ed80ff1f8ae7d3265c96b4a91c8f2">hash</a>, <a class="code" href="structhandlebars__map__entry.html#a037bab0bb673fea2a83439a08822117e">key</a>, <a class="code" href="handlebars__string_8h.html#ae809d5359ac030c60a30a8f0b2294b82">length</a>, <a class="code" href="handlebars__string_8h.html#a3e3a5c207d0c401ded36af7663ab2548">hash</a>) ) {</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;            <span class="keywordflow">return</span> found;</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;            found = found-&gt;<a class="code" href="structhandlebars__map__entry.html#a2f0a67ccf19ebfaeaa638eb1e265fa7f">child</a>;</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;        }</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    }</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    <span class="keywordflow">return</span> NULL;</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;}</div><div class="ttc" id="structhandlebars__map__entry_html"><div class="ttname"><a href="structhandlebars__map__entry.html">handlebars_map_entry</a></div><div class="ttdef"><b>Definition:</b> <a href="handlebars__map_8h_source.html#l00032">handlebars_map.h:32</a></div></div>
<div class="ttc" id="structhandlebars__map__entry_html_a037bab0bb673fea2a83439a08822117e"><div class="ttname"><a href="structhandlebars__map__entry.html#a037bab0bb673fea2a83439a08822117e">handlebars_map_entry::key</a></div><div class="ttdeci">struct handlebars_string * key</div><div class="ttdef"><b>Definition:</b> <a href="handlebars__map_8h_source.html#l00033">handlebars_map.h:33</a></div></div>
<div class="ttc" id="structhandlebars__string_html_a857b514c991646164995d912822c4e93"><div class="ttname"><a href="structhandlebars__string.html#a857b514c991646164995d912822c4e93">handlebars_string::len</a></div><div class="ttdeci">size_t len</div><div class="ttdef"><b>Definition:</b> <a href="handlebars__string_8h_source.html#l00040">handlebars_string.h:40</a></div></div>
<div class="ttc" id="handlebars__string_8h_html_a3e3a5c207d0c401ded36af7663ab2548"><div class="ttname"><a href="handlebars__string_8h.html#a3e3a5c207d0c401ded36af7663ab2548">hash</a></div><div class="ttdeci">const char size_t unsigned long hash</div><div class="ttdef"><b>Definition:</b> <a href="handlebars__string_8h_source.html#l00097">handlebars_string.h:97</a></div></div>
<div class="ttc" id="handlebars__string_8h_html_ae809d5359ac030c60a30a8f0b2294b82"><div class="ttname"><a href="handlebars__string_8h.html#ae809d5359ac030c60a30a8f0b2294b82">length</a></div><div class="ttdeci">size_t length</div><div class="ttdef"><b>Definition:</b> <a href="handlebars__string_8h_source.html#l00077">handlebars_string.h:77</a></div></div>
<div class="ttc" id="structhandlebars__string_html_a456ab79b6ad1d1f3bf8aa6c183a8abfc"><div class="ttname"><a href="structhandlebars__string.html#a456ab79b6ad1d1f3bf8aa6c183a8abfc">handlebars_string::val</a></div><div class="ttdeci">char val[]</div><div class="ttdef"><b>Definition:</b> <a href="handlebars__string_8h_source.html#l00042">handlebars_string.h:42</a></div></div>
<div class="ttc" id="structhandlebars__map_html_ac2994fdaeaa8cf434eec60a72db34f65"><div class="ttname"><a href="structhandlebars__map.html#ac2994fdaeaa8cf434eec60a72db34f65">handlebars_map::table</a></div><div class="ttdeci">struct handlebars_map_entry ** table</div><div class="ttdef"><b>Definition:</b> <a href="handlebars__map_8h_source.html#l00047">handlebars_map.h:47</a></div></div>
<div class="ttc" id="structhandlebars__string_html_ad12ed80ff1f8ae7d3265c96b4a91c8f2"><div class="ttname"><a href="structhandlebars__string.html#ad12ed80ff1f8ae7d3265c96b4a91c8f2">handlebars_string::hash</a></div><div class="ttdeci">unsigned long hash</div><div class="ttdef"><b>Definition:</b> <a href="handlebars__string_8h_source.html#l00041">handlebars_string.h:41</a></div></div>
<div class="ttc" id="structhandlebars__map__entry_html_a2f0a67ccf19ebfaeaa638eb1e265fa7f"><div class="ttname"><a href="structhandlebars__map__entry.html#a2f0a67ccf19ebfaeaa638eb1e265fa7f">handlebars_map_entry::child</a></div><div class="ttdeci">struct handlebars_map_entry * child</div><div class="ttdef"><b>Definition:</b> <a href="handlebars__map_8h_source.html#l00038">handlebars_map.h:38</a></div></div>
<div class="ttc" id="structhandlebars__map_html_a9472147c93eae2f4e638b271585c774b"><div class="ttname"><a href="structhandlebars__map.html#a9472147c93eae2f4e638b271585c774b">handlebars_map::table_size</a></div><div class="ttdeci">size_t table_size</div><div class="ttdef"><b>Definition:</b> <a href="handlebars__map_8h_source.html#l00046">handlebars_map.h:46</a></div></div>
<div class="ttc" id="handlebars__string_8h_html_a6f87728d6b22d7756027a6e4aa61b381"><div class="ttname"><a href="handlebars__string_8h.html#a6f87728d6b22d7756027a6e4aa61b381">handlebars_string_eq_ex</a></div><div class="ttdeci">static bool handlebars_string_eq_ex(const char *string1, size_t length1, unsigned long hash1, const char *string2, size_t length2, unsigned long hash2)</div><div class="ttdoc">Compare two strings (const char[] with length and hash variant) </div><div class="ttdef"><b>Definition:</b> <a href="handlebars__string_8h_source.html#l00229">handlebars_string.h:229</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="af085906db3ed04a2104f654f3be91890"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void _entry_remove </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structhandlebars__map.html">handlebars_map</a> *&#160;</td>
          <td class="paramname"><em>map</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structhandlebars__map__entry.html">handlebars_map_entry</a> *&#160;</td>
          <td class="paramname"><em>entry</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="handlebars__map_8c_source.html#l00167">167</a> of file <a class="el" href="handlebars__map_8c_source.html">handlebars_map.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;{</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="handlebars__string_8h.html#a3e3a5c207d0c401ded36af7663ab2548">hash</a> = <a class="code" href="handlebars__string_8h.html#ad9a8e1ff73d128e3acad70c42ba2fb41">HBS_STR_HASH</a>(entry-&gt;<a class="code" href="structhandlebars__map__entry.html#a037bab0bb673fea2a83439a08822117e">key</a>);</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    <span class="keyword">struct </span><a class="code" href="structhandlebars__value.html">handlebars_value</a> * value = entry-&gt;<a class="code" href="structhandlebars__map__entry.html#af967f0018a3976ecc23e5ae91deca8e4">value</a>;</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    <span class="comment">// Remove from linked list</span></div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    <span class="keywordflow">if</span>( map-&gt;<a class="code" href="structhandlebars__map.html#a262187a72fd3ff6fde60cf7bfcc8fec0">first</a> == entry ) {</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;        map-&gt;<a class="code" href="structhandlebars__map.html#a262187a72fd3ff6fde60cf7bfcc8fec0">first</a> = entry-&gt;<a class="code" href="structhandlebars__map__entry.html#a4676846c8bf4a50ff6e7de71528d9293">next</a>;</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    }</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    <span class="keywordflow">if</span>( map-&gt;<a class="code" href="structhandlebars__map.html#a728391ebd21a178f6731e16eb466fa07">last</a> == entry ) {</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;        map-&gt;<a class="code" href="structhandlebars__map.html#a728391ebd21a178f6731e16eb466fa07">last</a> = entry-&gt;<a class="code" href="structhandlebars__map__entry.html#abf70291badcab082899544f541061f2f">prev</a>;</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    }</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    <span class="keywordflow">if</span>( entry-&gt;<a class="code" href="structhandlebars__map__entry.html#a4676846c8bf4a50ff6e7de71528d9293">next</a> ) {</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;        entry-&gt;<a class="code" href="structhandlebars__map__entry.html#a4676846c8bf4a50ff6e7de71528d9293">next</a>-&gt;<a class="code" href="structhandlebars__map__entry.html#abf70291badcab082899544f541061f2f">prev</a> = entry-&gt;<a class="code" href="structhandlebars__map__entry.html#abf70291badcab082899544f541061f2f">prev</a>;</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    }</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    <span class="keywordflow">if</span>( entry-&gt;<a class="code" href="structhandlebars__map__entry.html#abf70291badcab082899544f541061f2f">prev</a> ) {</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;        entry-&gt;<a class="code" href="structhandlebars__map__entry.html#abf70291badcab082899544f541061f2f">prev</a>-&gt;<a class="code" href="structhandlebars__map__entry.html#a4676846c8bf4a50ff6e7de71528d9293">next</a> = entry-&gt;<a class="code" href="structhandlebars__map__entry.html#a4676846c8bf4a50ff6e7de71528d9293">next</a>;</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    }</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    <span class="keywordflow">if</span>( entry-&gt;<a class="code" href="structhandlebars__map__entry.html#a83fe09bedd20e46b64df9b05ceb56dea">parent</a> ) {</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;        entry-&gt;<a class="code" href="structhandlebars__map__entry.html#a83fe09bedd20e46b64df9b05ceb56dea">parent</a>-&gt;<a class="code" href="structhandlebars__map__entry.html#a2f0a67ccf19ebfaeaa638eb1e265fa7f">child</a> = entry-&gt;<a class="code" href="structhandlebars__map__entry.html#a2f0a67ccf19ebfaeaa638eb1e265fa7f">child</a>;</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    }</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    <span class="keywordflow">if</span>( entry-&gt;<a class="code" href="structhandlebars__map__entry.html#a2f0a67ccf19ebfaeaa638eb1e265fa7f">child</a> ) {</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;        entry-&gt;<a class="code" href="structhandlebars__map__entry.html#a2f0a67ccf19ebfaeaa638eb1e265fa7f">child</a>-&gt;<a class="code" href="structhandlebars__map__entry.html#a83fe09bedd20e46b64df9b05ceb56dea">parent</a> = entry-&gt;<a class="code" href="structhandlebars__map__entry.html#a83fe09bedd20e46b64df9b05ceb56dea">parent</a>;</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    }</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    <span class="comment">// Remove from hash table</span></div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    <span class="keywordflow">if</span>( entry-&gt;<a class="code" href="structhandlebars__map__entry.html#a2f0a67ccf19ebfaeaa638eb1e265fa7f">child</a> ) {</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;        entry-&gt;<a class="code" href="structhandlebars__map__entry.html#a2f0a67ccf19ebfaeaa638eb1e265fa7f">child</a>-&gt;<a class="code" href="structhandlebars__map__entry.html#a83fe09bedd20e46b64df9b05ceb56dea">parent</a> = entry-&gt;<a class="code" href="structhandlebars__map__entry.html#a83fe09bedd20e46b64df9b05ceb56dea">parent</a>;</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    }</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    <span class="keywordflow">if</span>( entry-&gt;<a class="code" href="structhandlebars__map__entry.html#a83fe09bedd20e46b64df9b05ceb56dea">parent</a> ) {</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;        entry-&gt;<a class="code" href="structhandlebars__map__entry.html#a83fe09bedd20e46b64df9b05ceb56dea">parent</a>-&gt;<a class="code" href="structhandlebars__map__entry.html#a2f0a67ccf19ebfaeaa638eb1e265fa7f">child</a> = entry-&gt;<a class="code" href="structhandlebars__map__entry.html#a2f0a67ccf19ebfaeaa638eb1e265fa7f">child</a>;</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;        <span class="comment">// It&#39;s the head</span></div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;        map-&gt;<a class="code" href="structhandlebars__map.html#ac2994fdaeaa8cf434eec60a72db34f65">table</a>[hash % map-&gt;<a class="code" href="structhandlebars__map.html#a9472147c93eae2f4e638b271585c774b">table_size</a>] = entry-&gt;<a class="code" href="structhandlebars__map__entry.html#a2f0a67ccf19ebfaeaa638eb1e265fa7f">child</a>; <span class="comment">// possibly null</span></div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    }</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    <span class="comment">// Free</span></div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    <a class="code" href="handlebars__value_8h.html#aa12eab96e415cfe8bac503efc9057c06">handlebars_value_delref</a>(value);</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    <a class="code" href="handlebars__memory_8h.html#aeb07c4a0272c512f8a8d694e5b8b97ef">handlebars_talloc_free</a>(entry);</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    map-&gt;<a class="code" href="structhandlebars__map.html#ac3110bbc7ffa65eac41ce975137d9c61">i</a>--;</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;}</div><div class="ttc" id="structhandlebars__map__entry_html_af967f0018a3976ecc23e5ae91deca8e4"><div class="ttname"><a href="structhandlebars__map__entry.html#af967f0018a3976ecc23e5ae91deca8e4">handlebars_map_entry::value</a></div><div class="ttdeci">struct handlebars_value * value</div><div class="ttdef"><b>Definition:</b> <a href="handlebars__map_8h_source.html#l00034">handlebars_map.h:34</a></div></div>
<div class="ttc" id="handlebars__memory_8h_html_aeb07c4a0272c512f8a8d694e5b8b97ef"><div class="ttname"><a href="handlebars__memory_8h.html#aeb07c4a0272c512f8a8d694e5b8b97ef">handlebars_talloc_free</a></div><div class="ttdeci">#define handlebars_talloc_free</div><div class="ttdef"><b>Definition:</b> <a href="handlebars__memory_8h_source.html#l00043">handlebars_memory.h:43</a></div></div>
<div class="ttc" id="structhandlebars__map__entry_html_a037bab0bb673fea2a83439a08822117e"><div class="ttname"><a href="structhandlebars__map__entry.html#a037bab0bb673fea2a83439a08822117e">handlebars_map_entry::key</a></div><div class="ttdeci">struct handlebars_string * key</div><div class="ttdef"><b>Definition:</b> <a href="handlebars__map_8h_source.html#l00033">handlebars_map.h:33</a></div></div>
<div class="ttc" id="handlebars__string_8h_html_a3e3a5c207d0c401ded36af7663ab2548"><div class="ttname"><a href="handlebars__string_8h.html#a3e3a5c207d0c401ded36af7663ab2548">hash</a></div><div class="ttdeci">const char size_t unsigned long hash</div><div class="ttdef"><b>Definition:</b> <a href="handlebars__string_8h_source.html#l00097">handlebars_string.h:97</a></div></div>
<div class="ttc" id="structhandlebars__map__entry_html_a83fe09bedd20e46b64df9b05ceb56dea"><div class="ttname"><a href="structhandlebars__map__entry.html#a83fe09bedd20e46b64df9b05ceb56dea">handlebars_map_entry::parent</a></div><div class="ttdeci">struct handlebars_map_entry * parent</div><div class="ttdef"><b>Definition:</b> <a href="handlebars__map_8h_source.html#l00037">handlebars_map.h:37</a></div></div>
<div class="ttc" id="structhandlebars__value_html"><div class="ttname"><a href="structhandlebars__value.html">handlebars_value</a></div><div class="ttdoc">Main value struct. </div><div class="ttdef"><b>Definition:</b> <a href="handlebars__value_8h_source.html#l00123">handlebars_value.h:123</a></div></div>
<div class="ttc" id="structhandlebars__map__entry_html_a4676846c8bf4a50ff6e7de71528d9293"><div class="ttname"><a href="structhandlebars__map__entry.html#a4676846c8bf4a50ff6e7de71528d9293">handlebars_map_entry::next</a></div><div class="ttdeci">struct handlebars_map_entry * next</div><div class="ttdef"><b>Definition:</b> <a href="handlebars__map_8h_source.html#l00035">handlebars_map.h:35</a></div></div>
<div class="ttc" id="handlebars__string_8h_html_ad9a8e1ff73d128e3acad70c42ba2fb41"><div class="ttname"><a href="handlebars__string_8h.html#ad9a8e1ff73d128e3acad70c42ba2fb41">HBS_STR_HASH</a></div><div class="ttdeci">#define HBS_STR_HASH(string)</div><div class="ttdef"><b>Definition:</b> <a href="handlebars__string_8h_source.html#l00047">handlebars_string.h:47</a></div></div>
<div class="ttc" id="structhandlebars__map__entry_html_abf70291badcab082899544f541061f2f"><div class="ttname"><a href="structhandlebars__map__entry.html#abf70291badcab082899544f541061f2f">handlebars_map_entry::prev</a></div><div class="ttdeci">struct handlebars_map_entry * prev</div><div class="ttdef"><b>Definition:</b> <a href="handlebars__map_8h_source.html#l00036">handlebars_map.h:36</a></div></div>
<div class="ttc" id="structhandlebars__map_html_ac2994fdaeaa8cf434eec60a72db34f65"><div class="ttname"><a href="structhandlebars__map.html#ac2994fdaeaa8cf434eec60a72db34f65">handlebars_map::table</a></div><div class="ttdeci">struct handlebars_map_entry ** table</div><div class="ttdef"><b>Definition:</b> <a href="handlebars__map_8h_source.html#l00047">handlebars_map.h:47</a></div></div>
<div class="ttc" id="structhandlebars__map__entry_html_a2f0a67ccf19ebfaeaa638eb1e265fa7f"><div class="ttname"><a href="structhandlebars__map__entry.html#a2f0a67ccf19ebfaeaa638eb1e265fa7f">handlebars_map_entry::child</a></div><div class="ttdeci">struct handlebars_map_entry * child</div><div class="ttdef"><b>Definition:</b> <a href="handlebars__map_8h_source.html#l00038">handlebars_map.h:38</a></div></div>
<div class="ttc" id="structhandlebars__map_html_a262187a72fd3ff6fde60cf7bfcc8fec0"><div class="ttname"><a href="structhandlebars__map.html#a262187a72fd3ff6fde60cf7bfcc8fec0">handlebars_map::first</a></div><div class="ttdeci">struct handlebars_map_entry * first</div><div class="ttdef"><b>Definition:</b> <a href="handlebars__map_8h_source.html#l00044">handlebars_map.h:44</a></div></div>
<div class="ttc" id="structhandlebars__map_html_a9472147c93eae2f4e638b271585c774b"><div class="ttname"><a href="structhandlebars__map.html#a9472147c93eae2f4e638b271585c774b">handlebars_map::table_size</a></div><div class="ttdeci">size_t table_size</div><div class="ttdef"><b>Definition:</b> <a href="handlebars__map_8h_source.html#l00046">handlebars_map.h:46</a></div></div>
<div class="ttc" id="structhandlebars__map_html_ac3110bbc7ffa65eac41ce975137d9c61"><div class="ttname"><a href="structhandlebars__map.html#ac3110bbc7ffa65eac41ce975137d9c61">handlebars_map::i</a></div><div class="ttdeci">size_t i</div><div class="ttdef"><b>Definition:</b> <a href="handlebars__map_8h_source.html#l00043">handlebars_map.h:43</a></div></div>
<div class="ttc" id="handlebars__value_8h_html_aa12eab96e415cfe8bac503efc9057c06"><div class="ttname"><a href="handlebars__value_8h.html#aa12eab96e415cfe8bac503efc9057c06">handlebars_value_delref</a></div><div class="ttdeci">static int handlebars_value_delref(struct handlebars_value *value)</div><div class="ttdef"><b>Definition:</b> <a href="handlebars__value_8h_source.html#l00344">handlebars_value.h:344</a></div></div>
<div class="ttc" id="structhandlebars__map_html_a728391ebd21a178f6731e16eb466fa07"><div class="ttname"><a href="structhandlebars__map.html#a728391ebd21a178f6731e16eb466fa07">handlebars_map::last</a></div><div class="ttdeci">struct handlebars_map_entry * last</div><div class="ttdef"><b>Definition:</b> <a href="handlebars__map_8h_source.html#l00045">handlebars_map.h:45</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a0f9417350fc4c33b1c386237992649b4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int _ht_add </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structhandlebars__map__entry.html">handlebars_map_entry</a> **&#160;</td>
          <td class="paramname"><em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>table_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structhandlebars__map__entry.html">handlebars_map_entry</a> *&#160;</td>
          <td class="paramname"><em>entry</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="handlebars__map_8c_source.html#l00071">71</a> of file <a class="el" href="handlebars__map_8c_source.html">handlebars_map.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;{</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> index = <a class="code" href="handlebars__string_8h.html#ad9a8e1ff73d128e3acad70c42ba2fb41">HBS_STR_HASH</a>(entry-&gt;<a class="code" href="structhandlebars__map__entry.html#a037bab0bb673fea2a83439a08822117e">key</a>) % (<span class="keywordtype">unsigned</span> long) table_size;</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    <span class="keyword">struct </span><a class="code" href="structhandlebars__map__entry.html">handlebars_map_entry</a> * <a class="code" href="structhandlebars__map__entry.html#a83fe09bedd20e46b64df9b05ceb56dea">parent</a> = table[index];</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    <span class="keywordflow">if</span>( parent ) {</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;        assert(!<a class="code" href="handlebars__map_8c.html#af92440c2ac86e92e91c649f721a60d51">handlebars_map_entry_eq</a>(parent, entry));</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;        <span class="comment">// Append to end of list</span></div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;        <span class="keywordflow">while</span>( parent-&gt;<a class="code" href="structhandlebars__map__entry.html#a2f0a67ccf19ebfaeaa638eb1e265fa7f">child</a> ) {</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;            parent = parent-&gt;<a class="code" href="structhandlebars__map__entry.html#a2f0a67ccf19ebfaeaa638eb1e265fa7f">child</a>;</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;        }</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;        parent-&gt;<a class="code" href="structhandlebars__map__entry.html#a2f0a67ccf19ebfaeaa638eb1e265fa7f">child</a> = entry;</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;        entry-&gt;<a class="code" href="structhandlebars__map__entry.html#a83fe09bedd20e46b64df9b05ceb56dea">parent</a> = <a class="code" href="structhandlebars__map__entry.html#a83fe09bedd20e46b64df9b05ceb56dea">parent</a>;</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;<span class="preprocessor">#if 0</span></div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;        fprintf(stderr, <span class="stringliteral">&quot;Collision %s (%ld) %s (%ld)\n&quot;</span>, parent-&gt;<a class="code" href="structhandlebars__map__entry.html#a037bab0bb673fea2a83439a08822117e">key</a>-&gt;<a class="code" href="structhandlebars__string.html#a456ab79b6ad1d1f3bf8aa6c183a8abfc">val</a>, index, entry-&gt;<a class="code" href="structhandlebars__map__entry.html#a037bab0bb673fea2a83439a08822117e">key</a>-&gt;<a class="code" href="structhandlebars__string.html#a456ab79b6ad1d1f3bf8aa6c183a8abfc">val</a>, index);</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;        <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;        table[index] = entry;</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;        <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    }</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;}</div><div class="ttc" id="structhandlebars__map__entry_html"><div class="ttname"><a href="structhandlebars__map__entry.html">handlebars_map_entry</a></div><div class="ttdef"><b>Definition:</b> <a href="handlebars__map_8h_source.html#l00032">handlebars_map.h:32</a></div></div>
<div class="ttc" id="structhandlebars__map__entry_html_a037bab0bb673fea2a83439a08822117e"><div class="ttname"><a href="structhandlebars__map__entry.html#a037bab0bb673fea2a83439a08822117e">handlebars_map_entry::key</a></div><div class="ttdeci">struct handlebars_string * key</div><div class="ttdef"><b>Definition:</b> <a href="handlebars__map_8h_source.html#l00033">handlebars_map.h:33</a></div></div>
<div class="ttc" id="structhandlebars__string_html_a456ab79b6ad1d1f3bf8aa6c183a8abfc"><div class="ttname"><a href="structhandlebars__string.html#a456ab79b6ad1d1f3bf8aa6c183a8abfc">handlebars_string::val</a></div><div class="ttdeci">char val[]</div><div class="ttdef"><b>Definition:</b> <a href="handlebars__string_8h_source.html#l00042">handlebars_string.h:42</a></div></div>
<div class="ttc" id="structhandlebars__map__entry_html_a83fe09bedd20e46b64df9b05ceb56dea"><div class="ttname"><a href="structhandlebars__map__entry.html#a83fe09bedd20e46b64df9b05ceb56dea">handlebars_map_entry::parent</a></div><div class="ttdeci">struct handlebars_map_entry * parent</div><div class="ttdef"><b>Definition:</b> <a href="handlebars__map_8h_source.html#l00037">handlebars_map.h:37</a></div></div>
<div class="ttc" id="handlebars__string_8h_html_ad9a8e1ff73d128e3acad70c42ba2fb41"><div class="ttname"><a href="handlebars__string_8h.html#ad9a8e1ff73d128e3acad70c42ba2fb41">HBS_STR_HASH</a></div><div class="ttdeci">#define HBS_STR_HASH(string)</div><div class="ttdef"><b>Definition:</b> <a href="handlebars__string_8h_source.html#l00047">handlebars_string.h:47</a></div></div>
<div class="ttc" id="handlebars__map_8c_html_af92440c2ac86e92e91c649f721a60d51"><div class="ttname"><a href="handlebars__map_8c.html#af92440c2ac86e92e91c649f721a60d51">handlebars_map_entry_eq</a></div><div class="ttdeci">static bool handlebars_map_entry_eq(struct handlebars_map_entry *entry1, struct handlebars_map_entry *entry2)</div><div class="ttdef"><b>Definition:</b> <a href="handlebars__map_8c_source.html#l00066">handlebars_map.c:66</a></div></div>
<div class="ttc" id="structhandlebars__map__entry_html_a2f0a67ccf19ebfaeaa638eb1e265fa7f"><div class="ttname"><a href="structhandlebars__map__entry.html#a2f0a67ccf19ebfaeaa638eb1e265fa7f">handlebars_map_entry::child</a></div><div class="ttdeci">struct handlebars_map_entry * child</div><div class="ttdef"><b>Definition:</b> <a href="handlebars__map_8h_source.html#l00038">handlebars_map.h:38</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a0d7f2ee3e2734534fe90e07d640b66f9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void _rehash </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structhandlebars__map.html">handlebars_map</a> *&#160;</td>
          <td class="paramname"><em>map</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="handlebars__map_8c_source.html#l00095">95</a> of file <a class="el" href="handlebars__map_8c_source.html">handlebars_map.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;{</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    <span class="keywordtype">size_t</span> table_size = map-&gt;<a class="code" href="structhandlebars__map.html#a9472147c93eae2f4e638b271585c774b">table_size</a> * 2;</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    <span class="keyword">struct </span><a class="code" href="structhandlebars__map__entry.html">handlebars_map_entry</a> * entry;</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    <span class="keyword">struct </span><a class="code" href="structhandlebars__map__entry.html">handlebars_map_entry</a> * tmp;</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    <span class="keyword">struct </span><a class="code" href="structhandlebars__map__entry.html">handlebars_map_entry</a> ** table;</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;<span class="preprocessor">#if 0</span></div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    fprintf(stderr, <span class="stringliteral">&quot;Rehash: entries: %d, collisions: %d, old size: %d, new size: %d\n&quot;</span>, map-&gt;<a class="code" href="structhandlebars__map.html#ac3110bbc7ffa65eac41ce975137d9c61">i</a>, map-&gt;<a class="code" href="structhandlebars__map.html#ad53b7ee7f1274a5fc3784d8dfc3cea36">collisions</a>, map-&gt;<a class="code" href="structhandlebars__map.html#a9472147c93eae2f4e638b271585c774b">table_size</a>, table_size);</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    <span class="comment">// Reset collisions</span></div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    map-&gt;<a class="code" href="structhandlebars__map.html#ad53b7ee7f1274a5fc3784d8dfc3cea36">collisions</a> = 0;</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    <span class="comment">// Create new table</span></div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    table = talloc_steal(map, <a class="code" href="handlebars__private_8h.html#a82f25723efb47b667ac4b68d8c8bfba9">MC</a>(<a class="code" href="handlebars__memory_8h.html#a71311c5073cc3a5ba50d45e8998dd65e">handlebars_talloc_array</a>(<a class="code" href="handlebars__map_8c.html#af195e2296079bbf21ae1c19823f0f036">CONTEXT</a>, <span class="keyword">struct</span> <a class="code" href="structhandlebars__map__entry.html">handlebars_map_entry</a> *, table_size)));</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    memset(table, 0, <span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="structhandlebars__map__entry.html">handlebars_map_entry</a> *) * table_size);</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    <span class="comment">// Reimport entries</span></div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    <a class="code" href="handlebars__map_8h.html#a3911173c727a27b6bbe94bd43eae9957">handlebars_map_foreach</a>(map, entry, tmp) {</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;        entry-&gt;<a class="code" href="structhandlebars__map__entry.html#a2f0a67ccf19ebfaeaa638eb1e265fa7f">child</a> = NULL;</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;        entry-&gt;<a class="code" href="structhandlebars__map__entry.html#a83fe09bedd20e46b64df9b05ceb56dea">parent</a> = NULL;</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;        <a class="code" href="handlebars__map_8c.html#a0f9417350fc4c33b1c386237992649b4">_ht_add</a>(table, table_size, entry);</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    }</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    <span class="comment">// Swap with old table</span></div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    <a class="code" href="handlebars__memory_8h.html#aeb07c4a0272c512f8a8d694e5b8b97ef">handlebars_talloc_free</a>(map-&gt;<a class="code" href="structhandlebars__map.html#ac2994fdaeaa8cf434eec60a72db34f65">table</a>);</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    map-&gt;<a class="code" href="structhandlebars__map.html#ac2994fdaeaa8cf434eec60a72db34f65">table</a> = table;</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    map-&gt;<a class="code" href="structhandlebars__map.html#a9472147c93eae2f4e638b271585c774b">table_size</a> = table_size;</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;}</div><div class="ttc" id="structhandlebars__map__entry_html"><div class="ttname"><a href="structhandlebars__map__entry.html">handlebars_map_entry</a></div><div class="ttdef"><b>Definition:</b> <a href="handlebars__map_8h_source.html#l00032">handlebars_map.h:32</a></div></div>
<div class="ttc" id="handlebars__memory_8h_html_aeb07c4a0272c512f8a8d694e5b8b97ef"><div class="ttname"><a href="handlebars__memory_8h.html#aeb07c4a0272c512f8a8d694e5b8b97ef">handlebars_talloc_free</a></div><div class="ttdeci">#define handlebars_talloc_free</div><div class="ttdef"><b>Definition:</b> <a href="handlebars__memory_8h_source.html#l00043">handlebars_memory.h:43</a></div></div>
<div class="ttc" id="handlebars__private_8h_html_a82f25723efb47b667ac4b68d8c8bfba9"><div class="ttname"><a href="handlebars__private_8h.html#a82f25723efb47b667ac4b68d8c8bfba9">MC</a></div><div class="ttdeci">#define MC(ptr)</div><div class="ttdef"><b>Definition:</b> <a href="handlebars__private_8h_source.html#l00039">handlebars_private.h:39</a></div></div>
<div class="ttc" id="handlebars__memory_8h_html_a71311c5073cc3a5ba50d45e8998dd65e"><div class="ttname"><a href="handlebars__memory_8h.html#a71311c5073cc3a5ba50d45e8998dd65e">handlebars_talloc_array</a></div><div class="ttdeci">#define handlebars_talloc_array</div><div class="ttdef"><b>Definition:</b> <a href="handlebars__memory_8h_source.html#l00039">handlebars_memory.h:39</a></div></div>
<div class="ttc" id="structhandlebars__map_html_ad53b7ee7f1274a5fc3784d8dfc3cea36"><div class="ttname"><a href="structhandlebars__map.html#ad53b7ee7f1274a5fc3784d8dfc3cea36">handlebars_map::collisions</a></div><div class="ttdeci">size_t collisions</div><div class="ttdef"><b>Definition:</b> <a href="handlebars__map_8h_source.html#l00048">handlebars_map.h:48</a></div></div>
<div class="ttc" id="structhandlebars__map__entry_html_a83fe09bedd20e46b64df9b05ceb56dea"><div class="ttname"><a href="structhandlebars__map__entry.html#a83fe09bedd20e46b64df9b05ceb56dea">handlebars_map_entry::parent</a></div><div class="ttdeci">struct handlebars_map_entry * parent</div><div class="ttdef"><b>Definition:</b> <a href="handlebars__map_8h_source.html#l00037">handlebars_map.h:37</a></div></div>
<div class="ttc" id="structhandlebars__map_html_ac2994fdaeaa8cf434eec60a72db34f65"><div class="ttname"><a href="structhandlebars__map.html#ac2994fdaeaa8cf434eec60a72db34f65">handlebars_map::table</a></div><div class="ttdeci">struct handlebars_map_entry ** table</div><div class="ttdef"><b>Definition:</b> <a href="handlebars__map_8h_source.html#l00047">handlebars_map.h:47</a></div></div>
<div class="ttc" id="handlebars__map_8c_html_af195e2296079bbf21ae1c19823f0f036"><div class="ttname"><a href="handlebars__map_8c.html#af195e2296079bbf21ae1c19823f0f036">CONTEXT</a></div><div class="ttdeci">#define CONTEXT</div><div class="ttdef"><b>Definition:</b> <a href="handlebars__map_8c_source.html#l00050">handlebars_map.c:50</a></div></div>
<div class="ttc" id="structhandlebars__map__entry_html_a2f0a67ccf19ebfaeaa638eb1e265fa7f"><div class="ttname"><a href="structhandlebars__map__entry.html#a2f0a67ccf19ebfaeaa638eb1e265fa7f">handlebars_map_entry::child</a></div><div class="ttdeci">struct handlebars_map_entry * child</div><div class="ttdef"><b>Definition:</b> <a href="handlebars__map_8h_source.html#l00038">handlebars_map.h:38</a></div></div>
<div class="ttc" id="handlebars__map_8h_html_a3911173c727a27b6bbe94bd43eae9957"><div class="ttname"><a href="handlebars__map_8h.html#a3911173c727a27b6bbe94bd43eae9957">handlebars_map_foreach</a></div><div class="ttdeci">#define handlebars_map_foreach(list, el, tmp)</div><div class="ttdef"><b>Definition:</b> <a href="handlebars__map_8h_source.html#l00051">handlebars_map.h:51</a></div></div>
<div class="ttc" id="handlebars__map_8c_html_a0f9417350fc4c33b1c386237992649b4"><div class="ttname"><a href="handlebars__map_8c.html#a0f9417350fc4c33b1c386237992649b4">_ht_add</a></div><div class="ttdeci">static int _ht_add(struct handlebars_map_entry **table, size_t table_size, struct handlebars_map_entry *entry)</div><div class="ttdef"><b>Definition:</b> <a href="handlebars__map_8c_source.html#l00071">handlebars_map.c:71</a></div></div>
<div class="ttc" id="structhandlebars__map_html_a9472147c93eae2f4e638b271585c774b"><div class="ttname"><a href="structhandlebars__map.html#a9472147c93eae2f4e638b271585c774b">handlebars_map::table_size</a></div><div class="ttdeci">size_t table_size</div><div class="ttdef"><b>Definition:</b> <a href="handlebars__map_8h_source.html#l00046">handlebars_map.h:46</a></div></div>
<div class="ttc" id="structhandlebars__map_html_ac3110bbc7ffa65eac41ce975137d9c61"><div class="ttname"><a href="structhandlebars__map.html#ac3110bbc7ffa65eac41ce975137d9c61">handlebars_map::i</a></div><div class="ttdeci">size_t i</div><div class="ttdef"><b>Definition:</b> <a href="handlebars__map_8h_source.html#l00043">handlebars_map.h:43</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="abe179c245fa9d8f0b4e472e929f321b5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void handlebars_map_add </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structhandlebars__map.html">handlebars_map</a> *&#160;</td>
          <td class="paramname"><em>map</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structhandlebars__string.html">handlebars_string</a> *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structhandlebars__value.html">handlebars_value</a> *&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add a value to a map. Adding a key twice is an error, use <a class="el" href="handlebars__map_8h.html#aa7bff6b541fcbd187aa853a2357a0576" title="Update or add a value (handlebars_string variant) ">handlebars_map_update</a> instead. (<a class="el" href="structhandlebars__string.html">handlebars_string</a> variant) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">map</td><td></td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">key</td><td></td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">value</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>

<p>Definition at line <a class="el" href="handlebars__map_8c_source.html#l00221">221</a> of file <a class="el" href="handlebars__map_8c_source.html">handlebars_map.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;{</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    <a class="code" href="handlebars__map_8c.html#a4540f81e8fb570371a1fb84858957b03">_entry_add</a>(map, string-&gt;<a class="code" href="structhandlebars__string.html#a456ab79b6ad1d1f3bf8aa6c183a8abfc">val</a>, string-&gt;<a class="code" href="structhandlebars__string.html#a857b514c991646164995d912822c4e93">len</a>, <a class="code" href="handlebars__string_8h.html#ad9a8e1ff73d128e3acad70c42ba2fb41">HBS_STR_HASH</a>(<span class="keywordtype">string</span>), value);</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;}</div><div class="ttc" id="structhandlebars__string_html_a857b514c991646164995d912822c4e93"><div class="ttname"><a href="structhandlebars__string.html#a857b514c991646164995d912822c4e93">handlebars_string::len</a></div><div class="ttdeci">size_t len</div><div class="ttdef"><b>Definition:</b> <a href="handlebars__string_8h_source.html#l00040">handlebars_string.h:40</a></div></div>
<div class="ttc" id="handlebars__map_8c_html_a4540f81e8fb570371a1fb84858957b03"><div class="ttname"><a href="handlebars__map_8c.html#a4540f81e8fb570371a1fb84858957b03">_entry_add</a></div><div class="ttdeci">static void _entry_add(struct handlebars_map *map, const char *key, size_t len, unsigned long hash, struct handlebars_value *value)</div><div class="ttdef"><b>Definition:</b> <a href="handlebars__map_8c_source.html#l00140">handlebars_map.c:140</a></div></div>
<div class="ttc" id="structhandlebars__string_html_a456ab79b6ad1d1f3bf8aa6c183a8abfc"><div class="ttname"><a href="structhandlebars__string.html#a456ab79b6ad1d1f3bf8aa6c183a8abfc">handlebars_string::val</a></div><div class="ttdeci">char val[]</div><div class="ttdef"><b>Definition:</b> <a href="handlebars__string_8h_source.html#l00042">handlebars_string.h:42</a></div></div>
<div class="ttc" id="handlebars__string_8h_html_ad9a8e1ff73d128e3acad70c42ba2fb41"><div class="ttname"><a href="handlebars__string_8h.html#ad9a8e1ff73d128e3acad70c42ba2fb41">HBS_STR_HASH</a></div><div class="ttdeci">#define HBS_STR_HASH(string)</div><div class="ttdef"><b>Definition:</b> <a href="handlebars__string_8h_source.html#l00047">handlebars_string.h:47</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a8d870ec3affcf3205583d954ddc634d5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structhandlebars__map.html">handlebars_map</a>* handlebars_map_ctor </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structhandlebars__context.html">handlebars_context</a> *&#160;</td>
          <td class="paramname"><em>ctx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Construct a new map. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ctx</td><td>The handlebars context </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The new map </dd></dl>

<p>Definition at line <a class="el" href="handlebars__map_8c_source.html#l00039">39</a> of file <a class="el" href="handlebars__map_8c_source.html">handlebars_map.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;{</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;    <span class="keyword">struct </span><a class="code" href="structhandlebars__map.html">handlebars_map</a> * map = <a class="code" href="handlebars__private_8h.html#a82f25723efb47b667ac4b68d8c8bfba9">MC</a>(<a class="code" href="handlebars__memory_8h.html#a4a17829b92cce6ae02bc3174fd6c0e30">handlebars_talloc_zero</a>(ctx, <span class="keyword">struct</span> <a class="code" href="structhandlebars__map.html">handlebars_map</a>));</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;    map-&gt;<a class="code" href="structhandlebars__map.html#ad8e5bc82b13747a6d149dd0d389dbf67">ctx</a> = <a class="code" href="handlebars__map_8c.html#af195e2296079bbf21ae1c19823f0f036">CONTEXT</a>;</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;    map-&gt;<a class="code" href="structhandlebars__map.html#a9472147c93eae2f4e638b271585c774b">table_size</a> = 32;</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;    map-&gt;<a class="code" href="structhandlebars__map.html#ac2994fdaeaa8cf434eec60a72db34f65">table</a> = talloc_steal(map, <a class="code" href="handlebars__private_8h.html#a82f25723efb47b667ac4b68d8c8bfba9">MC</a>(<a class="code" href="handlebars__memory_8h.html#a71311c5073cc3a5ba50d45e8998dd65e">handlebars_talloc_array</a>(ctx, <span class="keyword">struct</span> <a class="code" href="structhandlebars__map__entry.html">handlebars_map_entry</a> *, map-&gt;<a class="code" href="structhandlebars__map.html#a9472147c93eae2f4e638b271585c774b">table_size</a>)));</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;    memset(map-&gt;<a class="code" href="structhandlebars__map.html#ac2994fdaeaa8cf434eec60a72db34f65">table</a>, 0, <span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="structhandlebars__map__entry.html">handlebars_map_entry</a> *) * map-&gt;<a class="code" href="structhandlebars__map.html#a9472147c93eae2f4e638b271585c774b">table_size</a>);</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    <span class="keywordflow">return</span> map;</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;}</div><div class="ttc" id="structhandlebars__map__entry_html"><div class="ttname"><a href="structhandlebars__map__entry.html">handlebars_map_entry</a></div><div class="ttdef"><b>Definition:</b> <a href="handlebars__map_8h_source.html#l00032">handlebars_map.h:32</a></div></div>
<div class="ttc" id="handlebars__private_8h_html_a82f25723efb47b667ac4b68d8c8bfba9"><div class="ttname"><a href="handlebars__private_8h.html#a82f25723efb47b667ac4b68d8c8bfba9">MC</a></div><div class="ttdeci">#define MC(ptr)</div><div class="ttdef"><b>Definition:</b> <a href="handlebars__private_8h_source.html#l00039">handlebars_private.h:39</a></div></div>
<div class="ttc" id="handlebars__memory_8h_html_a71311c5073cc3a5ba50d45e8998dd65e"><div class="ttname"><a href="handlebars__memory_8h.html#a71311c5073cc3a5ba50d45e8998dd65e">handlebars_talloc_array</a></div><div class="ttdeci">#define handlebars_talloc_array</div><div class="ttdef"><b>Definition:</b> <a href="handlebars__memory_8h_source.html#l00039">handlebars_memory.h:39</a></div></div>
<div class="ttc" id="handlebars__memory_8h_html_a4a17829b92cce6ae02bc3174fd6c0e30"><div class="ttname"><a href="handlebars__memory_8h.html#a4a17829b92cce6ae02bc3174fd6c0e30">handlebars_talloc_zero</a></div><div class="ttdeci">#define handlebars_talloc_zero</div><div class="ttdef"><b>Definition:</b> <a href="handlebars__memory_8h_source.html#l00053">handlebars_memory.h:53</a></div></div>
<div class="ttc" id="structhandlebars__map_html_ac2994fdaeaa8cf434eec60a72db34f65"><div class="ttname"><a href="structhandlebars__map.html#ac2994fdaeaa8cf434eec60a72db34f65">handlebars_map::table</a></div><div class="ttdeci">struct handlebars_map_entry ** table</div><div class="ttdef"><b>Definition:</b> <a href="handlebars__map_8h_source.html#l00047">handlebars_map.h:47</a></div></div>
<div class="ttc" id="structhandlebars__map_html"><div class="ttname"><a href="structhandlebars__map.html">handlebars_map</a></div><div class="ttdef"><b>Definition:</b> <a href="handlebars__map_8h_source.html#l00041">handlebars_map.h:41</a></div></div>
<div class="ttc" id="handlebars__map_8c_html_af195e2296079bbf21ae1c19823f0f036"><div class="ttname"><a href="handlebars__map_8c.html#af195e2296079bbf21ae1c19823f0f036">CONTEXT</a></div><div class="ttdeci">#define CONTEXT</div><div class="ttdef"><b>Definition:</b> <a href="handlebars__map_8c_source.html#l00050">handlebars_map.c:50</a></div></div>
<div class="ttc" id="structhandlebars__map_html_a9472147c93eae2f4e638b271585c774b"><div class="ttname"><a href="structhandlebars__map.html#a9472147c93eae2f4e638b271585c774b">handlebars_map::table_size</a></div><div class="ttdeci">size_t table_size</div><div class="ttdef"><b>Definition:</b> <a href="handlebars__map_8h_source.html#l00046">handlebars_map.h:46</a></div></div>
<div class="ttc" id="structhandlebars__map_html_ad8e5bc82b13747a6d149dd0d389dbf67"><div class="ttname"><a href="structhandlebars__map.html#ad8e5bc82b13747a6d149dd0d389dbf67">handlebars_map::ctx</a></div><div class="ttdeci">struct handlebars_context * ctx</div><div class="ttdef"><b>Definition:</b> <a href="handlebars__map_8h_source.html#l00042">handlebars_map.h:42</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa3de74c0eb15720b93b7373d0e884242"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void handlebars_map_dtor </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structhandlebars__map.html">handlebars_map</a> *&#160;</td>
          <td class="paramname"><em>map</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Destruct a map. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">map</td><td>The name </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>

<p>Definition at line <a class="el" href="handlebars__map_8c_source.html#l00052">52</a> of file <a class="el" href="handlebars__map_8c_source.html">handlebars_map.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;{</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="preprocessor">#ifndef HANDLEBARS_NO_REFCOUNT</span></div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    <span class="keyword">struct </span><a class="code" href="structhandlebars__map__entry.html">handlebars_map_entry</a> * entry;</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    <span class="keyword">struct </span><a class="code" href="structhandlebars__map__entry.html">handlebars_map_entry</a> * tmp;</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    <a class="code" href="handlebars__map_8h.html#a3911173c727a27b6bbe94bd43eae9957">handlebars_map_foreach</a>(map, entry, tmp) {</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;        <a class="code" href="handlebars__value_8h.html#aa12eab96e415cfe8bac503efc9057c06">handlebars_value_delref</a>(entry-&gt;<a class="code" href="structhandlebars__map__entry.html#af967f0018a3976ecc23e5ae91deca8e4">value</a>);</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    }</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    <a class="code" href="handlebars__memory_8h.html#aeb07c4a0272c512f8a8d694e5b8b97ef">handlebars_talloc_free</a>(map);</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;}</div><div class="ttc" id="structhandlebars__map__entry_html"><div class="ttname"><a href="structhandlebars__map__entry.html">handlebars_map_entry</a></div><div class="ttdef"><b>Definition:</b> <a href="handlebars__map_8h_source.html#l00032">handlebars_map.h:32</a></div></div>
<div class="ttc" id="structhandlebars__map__entry_html_af967f0018a3976ecc23e5ae91deca8e4"><div class="ttname"><a href="structhandlebars__map__entry.html#af967f0018a3976ecc23e5ae91deca8e4">handlebars_map_entry::value</a></div><div class="ttdeci">struct handlebars_value * value</div><div class="ttdef"><b>Definition:</b> <a href="handlebars__map_8h_source.html#l00034">handlebars_map.h:34</a></div></div>
<div class="ttc" id="handlebars__memory_8h_html_aeb07c4a0272c512f8a8d694e5b8b97ef"><div class="ttname"><a href="handlebars__memory_8h.html#aeb07c4a0272c512f8a8d694e5b8b97ef">handlebars_talloc_free</a></div><div class="ttdeci">#define handlebars_talloc_free</div><div class="ttdef"><b>Definition:</b> <a href="handlebars__memory_8h_source.html#l00043">handlebars_memory.h:43</a></div></div>
<div class="ttc" id="handlebars__map_8h_html_a3911173c727a27b6bbe94bd43eae9957"><div class="ttname"><a href="handlebars__map_8h.html#a3911173c727a27b6bbe94bd43eae9957">handlebars_map_foreach</a></div><div class="ttdeci">#define handlebars_map_foreach(list, el, tmp)</div><div class="ttdef"><b>Definition:</b> <a href="handlebars__map_8h_source.html#l00051">handlebars_map.h:51</a></div></div>
<div class="ttc" id="handlebars__value_8h_html_aa12eab96e415cfe8bac503efc9057c06"><div class="ttname"><a href="handlebars__value_8h.html#aa12eab96e415cfe8bac503efc9057c06">handlebars_value_delref</a></div><div class="ttdeci">static int handlebars_value_delref(struct handlebars_value *value)</div><div class="ttdef"><b>Definition:</b> <a href="handlebars__value_8h_source.html#l00344">handlebars_value.h:344</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="af92440c2ac86e92e91c649f721a60d51"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool handlebars_map_entry_eq </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structhandlebars__map__entry.html">handlebars_map_entry</a> *&#160;</td>
          <td class="paramname"><em>entry1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structhandlebars__map__entry.html">handlebars_map_entry</a> *&#160;</td>
          <td class="paramname"><em>entry2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="handlebars__map_8c_source.html#l00066">66</a> of file <a class="el" href="handlebars__map_8c_source.html">handlebars_map.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;{</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="handlebars__string_8h.html#a52a339c32a3d5fa278301debd5ba7e52">handlebars_string_eq</a>(entry1-&gt;<a class="code" href="structhandlebars__map__entry.html#a037bab0bb673fea2a83439a08822117e">key</a>, entry2-&gt;<a class="code" href="structhandlebars__map__entry.html#a037bab0bb673fea2a83439a08822117e">key</a>);</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;}</div><div class="ttc" id="handlebars__string_8h_html_a52a339c32a3d5fa278301debd5ba7e52"><div class="ttname"><a href="handlebars__string_8h.html#a52a339c32a3d5fa278301debd5ba7e52">handlebars_string_eq</a></div><div class="ttdeci">static bool handlebars_string_eq(struct handlebars_string *string1, struct handlebars_string *string2)</div><div class="ttdoc">Compare two strings (handlebars_string variant) </div><div class="ttdef"><b>Definition:</b> <a href="handlebars__string_8h_source.html#l00247">handlebars_string.h:247</a></div></div>
<div class="ttc" id="structhandlebars__map__entry_html_a037bab0bb673fea2a83439a08822117e"><div class="ttname"><a href="structhandlebars__map__entry.html#a037bab0bb673fea2a83439a08822117e">handlebars_map_entry::key</a></div><div class="ttdeci">struct handlebars_string * key</div><div class="ttdef"><b>Definition:</b> <a href="handlebars__map_8h_source.html#l00033">handlebars_map.h:33</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad8b6e93ba604a99412c9ec9302ab992b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structhandlebars__value.html">handlebars_value</a>* handlebars_map_find </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structhandlebars__map.html">handlebars_map</a> *&#160;</td>
          <td class="paramname"><em>map</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structhandlebars__string.html">handlebars_string</a> *&#160;</td>
          <td class="paramname"><em>key</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Find a value by key (<a class="el" href="structhandlebars__string.html">handlebars_string</a> variant) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">map</td><td></td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">key</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The found value, or NULL </dd></dl>

<p>Definition at line <a class="el" href="handlebars__map_8c_source.html#l00253">253</a> of file <a class="el" href="handlebars__map_8c_source.html">handlebars_map.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;{</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    <span class="keyword">struct </span><a class="code" href="structhandlebars__value.html">handlebars_value</a> * value = NULL;</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    <span class="keyword">struct </span><a class="code" href="structhandlebars__map__entry.html">handlebars_map_entry</a> * entry = <a class="code" href="handlebars__map_8c.html#a3bf971ea41167396132d858f105f7fc8">_entry_find</a>(map, key-&gt;<a class="code" href="structhandlebars__string.html#a456ab79b6ad1d1f3bf8aa6c183a8abfc">val</a>, key-&gt;<a class="code" href="structhandlebars__string.html#a857b514c991646164995d912822c4e93">len</a>, <a class="code" href="handlebars__string_8h.html#ad9a8e1ff73d128e3acad70c42ba2fb41">HBS_STR_HASH</a>(key));</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    <span class="keywordflow">if</span>( entry ) {</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;        value = entry-&gt;<a class="code" href="structhandlebars__map__entry.html#af967f0018a3976ecc23e5ae91deca8e4">value</a>;</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;        <a class="code" href="handlebars__value_8h.html#a0ebd8b740bbe25c2adce618cdeee631a">handlebars_value_addref</a>(value);</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    }</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="structhandlebars__map__entry.html#af967f0018a3976ecc23e5ae91deca8e4">value</a>;</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;}</div><div class="ttc" id="structhandlebars__map__entry_html"><div class="ttname"><a href="structhandlebars__map__entry.html">handlebars_map_entry</a></div><div class="ttdef"><b>Definition:</b> <a href="handlebars__map_8h_source.html#l00032">handlebars_map.h:32</a></div></div>
<div class="ttc" id="structhandlebars__map__entry_html_af967f0018a3976ecc23e5ae91deca8e4"><div class="ttname"><a href="structhandlebars__map__entry.html#af967f0018a3976ecc23e5ae91deca8e4">handlebars_map_entry::value</a></div><div class="ttdeci">struct handlebars_value * value</div><div class="ttdef"><b>Definition:</b> <a href="handlebars__map_8h_source.html#l00034">handlebars_map.h:34</a></div></div>
<div class="ttc" id="structhandlebars__string_html_a857b514c991646164995d912822c4e93"><div class="ttname"><a href="structhandlebars__string.html#a857b514c991646164995d912822c4e93">handlebars_string::len</a></div><div class="ttdeci">size_t len</div><div class="ttdef"><b>Definition:</b> <a href="handlebars__string_8h_source.html#l00040">handlebars_string.h:40</a></div></div>
<div class="ttc" id="structhandlebars__string_html_a456ab79b6ad1d1f3bf8aa6c183a8abfc"><div class="ttname"><a href="structhandlebars__string.html#a456ab79b6ad1d1f3bf8aa6c183a8abfc">handlebars_string::val</a></div><div class="ttdeci">char val[]</div><div class="ttdef"><b>Definition:</b> <a href="handlebars__string_8h_source.html#l00042">handlebars_string.h:42</a></div></div>
<div class="ttc" id="structhandlebars__value_html"><div class="ttname"><a href="structhandlebars__value.html">handlebars_value</a></div><div class="ttdoc">Main value struct. </div><div class="ttdef"><b>Definition:</b> <a href="handlebars__value_8h_source.html#l00123">handlebars_value.h:123</a></div></div>
<div class="ttc" id="handlebars__map_8c_html_a3bf971ea41167396132d858f105f7fc8"><div class="ttname"><a href="handlebars__map_8c.html#a3bf971ea41167396132d858f105f7fc8">_entry_find</a></div><div class="ttdeci">static struct handlebars_map_entry * _entry_find(struct handlebars_map *map, const char *key, size_t length, unsigned long hash)</div><div class="ttdef"><b>Definition:</b> <a href="handlebars__map_8c_source.html#l00126">handlebars_map.c:126</a></div></div>
<div class="ttc" id="handlebars__string_8h_html_ad9a8e1ff73d128e3acad70c42ba2fb41"><div class="ttname"><a href="handlebars__string_8h.html#ad9a8e1ff73d128e3acad70c42ba2fb41">HBS_STR_HASH</a></div><div class="ttdeci">#define HBS_STR_HASH(string)</div><div class="ttdef"><b>Definition:</b> <a href="handlebars__string_8h_source.html#l00047">handlebars_string.h:47</a></div></div>
<div class="ttc" id="handlebars__value_8h_html_a0ebd8b740bbe25c2adce618cdeee631a"><div class="ttname"><a href="handlebars__value_8h.html#a0ebd8b740bbe25c2adce618cdeee631a">handlebars_value_addref</a></div><div class="ttdeci">static int handlebars_value_addref(struct handlebars_value *value)</div><div class="ttdef"><b>Definition:</b> <a href="handlebars__value_8h_source.html#l00318">handlebars_value.h:318</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a80ab99a15039d7e853b530e18ccd2fe5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool handlebars_map_remove </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structhandlebars__map.html">handlebars_map</a> *&#160;</td>
          <td class="paramname"><em>map</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structhandlebars__string.html">handlebars_string</a> *&#160;</td>
          <td class="paramname"><em>key</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Remove a value by key (<a class="el" href="structhandlebars__string.html">handlebars_string</a> variant) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">map</td><td></td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">key</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Whether or not an element was removed </dd></dl>

<p>Definition at line <a class="el" href="handlebars__map_8c_source.html#l00231">231</a> of file <a class="el" href="handlebars__map_8c_source.html">handlebars_map.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;{</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    <span class="keyword">struct </span><a class="code" href="structhandlebars__map__entry.html">handlebars_map_entry</a> * entry = <a class="code" href="handlebars__map_8c.html#a3bf971ea41167396132d858f105f7fc8">_entry_find</a>(map, key-&gt;<a class="code" href="structhandlebars__string.html#a456ab79b6ad1d1f3bf8aa6c183a8abfc">val</a>, key-&gt;<a class="code" href="structhandlebars__string.html#a857b514c991646164995d912822c4e93">len</a>, <a class="code" href="handlebars__string_8h.html#ad9a8e1ff73d128e3acad70c42ba2fb41">HBS_STR_HASH</a>(key));</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    <span class="keywordflow">if</span>( entry ) {</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;        <a class="code" href="handlebars__map_8c.html#af085906db3ed04a2104f654f3be91890">_entry_remove</a>(map, entry);</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;        <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    }</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;}</div><div class="ttc" id="structhandlebars__map__entry_html"><div class="ttname"><a href="structhandlebars__map__entry.html">handlebars_map_entry</a></div><div class="ttdef"><b>Definition:</b> <a href="handlebars__map_8h_source.html#l00032">handlebars_map.h:32</a></div></div>
<div class="ttc" id="structhandlebars__string_html_a857b514c991646164995d912822c4e93"><div class="ttname"><a href="structhandlebars__string.html#a857b514c991646164995d912822c4e93">handlebars_string::len</a></div><div class="ttdeci">size_t len</div><div class="ttdef"><b>Definition:</b> <a href="handlebars__string_8h_source.html#l00040">handlebars_string.h:40</a></div></div>
<div class="ttc" id="structhandlebars__string_html_a456ab79b6ad1d1f3bf8aa6c183a8abfc"><div class="ttname"><a href="structhandlebars__string.html#a456ab79b6ad1d1f3bf8aa6c183a8abfc">handlebars_string::val</a></div><div class="ttdeci">char val[]</div><div class="ttdef"><b>Definition:</b> <a href="handlebars__string_8h_source.html#l00042">handlebars_string.h:42</a></div></div>
<div class="ttc" id="handlebars__map_8c_html_a3bf971ea41167396132d858f105f7fc8"><div class="ttname"><a href="handlebars__map_8c.html#a3bf971ea41167396132d858f105f7fc8">_entry_find</a></div><div class="ttdeci">static struct handlebars_map_entry * _entry_find(struct handlebars_map *map, const char *key, size_t length, unsigned long hash)</div><div class="ttdef"><b>Definition:</b> <a href="handlebars__map_8c_source.html#l00126">handlebars_map.c:126</a></div></div>
<div class="ttc" id="handlebars__string_8h_html_ad9a8e1ff73d128e3acad70c42ba2fb41"><div class="ttname"><a href="handlebars__string_8h.html#ad9a8e1ff73d128e3acad70c42ba2fb41">HBS_STR_HASH</a></div><div class="ttdeci">#define HBS_STR_HASH(string)</div><div class="ttdef"><b>Definition:</b> <a href="handlebars__string_8h_source.html#l00047">handlebars_string.h:47</a></div></div>
<div class="ttc" id="handlebars__map_8c_html_af085906db3ed04a2104f654f3be91890"><div class="ttname"><a href="handlebars__map_8c.html#af085906db3ed04a2104f654f3be91890">_entry_remove</a></div><div class="ttdeci">static void _entry_remove(struct handlebars_map *map, struct handlebars_map_entry *entry)</div><div class="ttdef"><b>Definition:</b> <a href="handlebars__map_8c_source.html#l00167">handlebars_map.c:167</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a3814fbfbd6ec2006318981c198b33dac"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void handlebars_map_str_add </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structhandlebars__map.html">handlebars_map</a> *&#160;</td>
          <td class="paramname"><em>map</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structhandlebars__value.html">handlebars_value</a> *&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add a value to a map. Adding a key twice is an error, use <a class="el" href="handlebars__map_8h.html#ad71119f301f84654f0d26a1d4a7f9595" title="Update or add a value (const char[] with length variant) ">handlebars_map_str_update</a> instead. (const char[] with length variant) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">map</td><td></td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">key</td><td></td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">len</td><td></td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">value</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>

<p>Definition at line <a class="el" href="handlebars__map_8c_source.html#l00226">226</a> of file <a class="el" href="handlebars__map_8c_source.html">handlebars_map.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;{</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    <a class="code" href="handlebars__map_8c.html#a4540f81e8fb570371a1fb84858957b03">_entry_add</a>(map, <a class="code" href="structhandlebars__map__entry.html#a037bab0bb673fea2a83439a08822117e">key</a>, <a class="code" href="handlebars__helpers__ht_8h.html#adf41794220897ad98a5856b62c8d51a9">len</a>, <a class="code" href="handlebars__string_8h.html#a0d1c0162a233be0d6dcd7fa70567c6ab">handlebars_string_hash</a>(<a class="code" href="structhandlebars__map__entry.html#a037bab0bb673fea2a83439a08822117e">key</a>, <a class="code" href="handlebars__helpers__ht_8h.html#adf41794220897ad98a5856b62c8d51a9">len</a>), value);</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;}</div><div class="ttc" id="structhandlebars__map__entry_html_a037bab0bb673fea2a83439a08822117e"><div class="ttname"><a href="structhandlebars__map__entry.html#a037bab0bb673fea2a83439a08822117e">handlebars_map_entry::key</a></div><div class="ttdeci">struct handlebars_string * key</div><div class="ttdef"><b>Definition:</b> <a href="handlebars__map_8h_source.html#l00033">handlebars_map.h:33</a></div></div>
<div class="ttc" id="handlebars__map_8c_html_a4540f81e8fb570371a1fb84858957b03"><div class="ttname"><a href="handlebars__map_8c.html#a4540f81e8fb570371a1fb84858957b03">_entry_add</a></div><div class="ttdeci">static void _entry_add(struct handlebars_map *map, const char *key, size_t len, unsigned long hash, struct handlebars_value *value)</div><div class="ttdef"><b>Definition:</b> <a href="handlebars__map_8c_source.html#l00140">handlebars_map.c:140</a></div></div>
<div class="ttc" id="handlebars__helpers__ht_8h_html_adf41794220897ad98a5856b62c8d51a9"><div class="ttname"><a href="handlebars__helpers__ht_8h.html#adf41794220897ad98a5856b62c8d51a9">len</a></div><div class="ttdeci">register unsigned int len</div><div class="ttdef"><b>Definition:</b> <a href="handlebars__helpers__ht_8h_source.html#l00052">handlebars_helpers_ht.h:52</a></div></div>
<div class="ttc" id="handlebars__string_8h_html_a0d1c0162a233be0d6dcd7fa70567c6ab"><div class="ttname"><a href="handlebars__string_8h.html#a0d1c0162a233be0d6dcd7fa70567c6ab">handlebars_string_hash</a></div><div class="ttdeci">static unsigned long handlebars_string_hash(const char *str, size_t len)</div><div class="ttdef"><b>Definition:</b> <a href="handlebars__string_8h_source.html#l00063">handlebars_string.h:63</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae2394e9217e3ab9632ac8bf84d91d485"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structhandlebars__value.html">handlebars_value</a>* handlebars_map_str_find </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structhandlebars__map.html">handlebars_map</a> *&#160;</td>
          <td class="paramname"><em>map</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Find a value by key (const char[] with length variant) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">map</td><td></td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">key</td><td></td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">len</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The found value, or NULL </dd></dl>

<p>Definition at line <a class="el" href="handlebars__map_8c_source.html#l00266">266</a> of file <a class="el" href="handlebars__map_8c_source.html">handlebars_map.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;{</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;    <span class="keyword">struct </span><a class="code" href="structhandlebars__value.html">handlebars_value</a> * value = NULL;</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    <span class="keyword">struct </span><a class="code" href="structhandlebars__map__entry.html">handlebars_map_entry</a> * entry = <a class="code" href="handlebars__map_8c.html#a3bf971ea41167396132d858f105f7fc8">_entry_find</a>(map, <a class="code" href="structhandlebars__map__entry.html#a037bab0bb673fea2a83439a08822117e">key</a>, <a class="code" href="handlebars__helpers__ht_8h.html#adf41794220897ad98a5856b62c8d51a9">len</a>, <a class="code" href="handlebars__string_8h.html#a0d1c0162a233be0d6dcd7fa70567c6ab">handlebars_string_hash</a>(<a class="code" href="structhandlebars__map__entry.html#a037bab0bb673fea2a83439a08822117e">key</a>, <a class="code" href="handlebars__helpers__ht_8h.html#adf41794220897ad98a5856b62c8d51a9">len</a>));</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    <span class="keywordflow">if</span>( entry ) {</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;        value = entry-&gt;<a class="code" href="structhandlebars__map__entry.html#af967f0018a3976ecc23e5ae91deca8e4">value</a>;</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;        <a class="code" href="handlebars__value_8h.html#a0ebd8b740bbe25c2adce618cdeee631a">handlebars_value_addref</a>(value);</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    }</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="structhandlebars__map__entry.html#af967f0018a3976ecc23e5ae91deca8e4">value</a>;</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;}</div><div class="ttc" id="structhandlebars__map__entry_html"><div class="ttname"><a href="structhandlebars__map__entry.html">handlebars_map_entry</a></div><div class="ttdef"><b>Definition:</b> <a href="handlebars__map_8h_source.html#l00032">handlebars_map.h:32</a></div></div>
<div class="ttc" id="structhandlebars__map__entry_html_af967f0018a3976ecc23e5ae91deca8e4"><div class="ttname"><a href="structhandlebars__map__entry.html#af967f0018a3976ecc23e5ae91deca8e4">handlebars_map_entry::value</a></div><div class="ttdeci">struct handlebars_value * value</div><div class="ttdef"><b>Definition:</b> <a href="handlebars__map_8h_source.html#l00034">handlebars_map.h:34</a></div></div>
<div class="ttc" id="structhandlebars__map__entry_html_a037bab0bb673fea2a83439a08822117e"><div class="ttname"><a href="structhandlebars__map__entry.html#a037bab0bb673fea2a83439a08822117e">handlebars_map_entry::key</a></div><div class="ttdeci">struct handlebars_string * key</div><div class="ttdef"><b>Definition:</b> <a href="handlebars__map_8h_source.html#l00033">handlebars_map.h:33</a></div></div>
<div class="ttc" id="handlebars__helpers__ht_8h_html_adf41794220897ad98a5856b62c8d51a9"><div class="ttname"><a href="handlebars__helpers__ht_8h.html#adf41794220897ad98a5856b62c8d51a9">len</a></div><div class="ttdeci">register unsigned int len</div><div class="ttdef"><b>Definition:</b> <a href="handlebars__helpers__ht_8h_source.html#l00052">handlebars_helpers_ht.h:52</a></div></div>
<div class="ttc" id="structhandlebars__value_html"><div class="ttname"><a href="structhandlebars__value.html">handlebars_value</a></div><div class="ttdoc">Main value struct. </div><div class="ttdef"><b>Definition:</b> <a href="handlebars__value_8h_source.html#l00123">handlebars_value.h:123</a></div></div>
<div class="ttc" id="handlebars__map_8c_html_a3bf971ea41167396132d858f105f7fc8"><div class="ttname"><a href="handlebars__map_8c.html#a3bf971ea41167396132d858f105f7fc8">_entry_find</a></div><div class="ttdeci">static struct handlebars_map_entry * _entry_find(struct handlebars_map *map, const char *key, size_t length, unsigned long hash)</div><div class="ttdef"><b>Definition:</b> <a href="handlebars__map_8c_source.html#l00126">handlebars_map.c:126</a></div></div>
<div class="ttc" id="handlebars__value_8h_html_a0ebd8b740bbe25c2adce618cdeee631a"><div class="ttname"><a href="handlebars__value_8h.html#a0ebd8b740bbe25c2adce618cdeee631a">handlebars_value_addref</a></div><div class="ttdeci">static int handlebars_value_addref(struct handlebars_value *value)</div><div class="ttdef"><b>Definition:</b> <a href="handlebars__value_8h_source.html#l00318">handlebars_value.h:318</a></div></div>
<div class="ttc" id="handlebars__string_8h_html_a0d1c0162a233be0d6dcd7fa70567c6ab"><div class="ttname"><a href="handlebars__string_8h.html#a0d1c0162a233be0d6dcd7fa70567c6ab">handlebars_string_hash</a></div><div class="ttdeci">static unsigned long handlebars_string_hash(const char *str, size_t len)</div><div class="ttdef"><b>Definition:</b> <a href="handlebars__string_8h_source.html#l00063">handlebars_string.h:63</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac6dfba2e3554f821a38860faf4dffea3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool handlebars_map_str_remove </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structhandlebars__map.html">handlebars_map</a> *&#160;</td>
          <td class="paramname"><em>map</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Remove a value by key (const char[] with length variant) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">map</td><td></td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">key</td><td></td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">len</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Whether or not an element was removed </dd></dl>

<p>Definition at line <a class="el" href="handlebars__map_8c_source.html#l00241">241</a> of file <a class="el" href="handlebars__map_8c_source.html">handlebars_map.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;{</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="handlebars__string_8h.html#a3e3a5c207d0c401ded36af7663ab2548">hash</a> = <a class="code" href="handlebars__string_8h.html#a0d1c0162a233be0d6dcd7fa70567c6ab">handlebars_string_hash</a>(<a class="code" href="structhandlebars__map__entry.html#a037bab0bb673fea2a83439a08822117e">key</a>, <a class="code" href="handlebars__helpers__ht_8h.html#adf41794220897ad98a5856b62c8d51a9">len</a>);</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    <span class="keyword">struct </span><a class="code" href="structhandlebars__map__entry.html">handlebars_map_entry</a> * entry = <a class="code" href="handlebars__map_8c.html#a3bf971ea41167396132d858f105f7fc8">_entry_find</a>(map, <a class="code" href="structhandlebars__map__entry.html#a037bab0bb673fea2a83439a08822117e">key</a>, <a class="code" href="handlebars__helpers__ht_8h.html#adf41794220897ad98a5856b62c8d51a9">len</a>, hash);</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    <span class="keywordflow">if</span>( entry ) {</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;        <a class="code" href="handlebars__map_8c.html#af085906db3ed04a2104f654f3be91890">_entry_remove</a>(map, entry);</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;        <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    }</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;}</div><div class="ttc" id="structhandlebars__map__entry_html"><div class="ttname"><a href="structhandlebars__map__entry.html">handlebars_map_entry</a></div><div class="ttdef"><b>Definition:</b> <a href="handlebars__map_8h_source.html#l00032">handlebars_map.h:32</a></div></div>
<div class="ttc" id="structhandlebars__map__entry_html_a037bab0bb673fea2a83439a08822117e"><div class="ttname"><a href="structhandlebars__map__entry.html#a037bab0bb673fea2a83439a08822117e">handlebars_map_entry::key</a></div><div class="ttdeci">struct handlebars_string * key</div><div class="ttdef"><b>Definition:</b> <a href="handlebars__map_8h_source.html#l00033">handlebars_map.h:33</a></div></div>
<div class="ttc" id="handlebars__string_8h_html_a3e3a5c207d0c401ded36af7663ab2548"><div class="ttname"><a href="handlebars__string_8h.html#a3e3a5c207d0c401ded36af7663ab2548">hash</a></div><div class="ttdeci">const char size_t unsigned long hash</div><div class="ttdef"><b>Definition:</b> <a href="handlebars__string_8h_source.html#l00097">handlebars_string.h:97</a></div></div>
<div class="ttc" id="handlebars__helpers__ht_8h_html_adf41794220897ad98a5856b62c8d51a9"><div class="ttname"><a href="handlebars__helpers__ht_8h.html#adf41794220897ad98a5856b62c8d51a9">len</a></div><div class="ttdeci">register unsigned int len</div><div class="ttdef"><b>Definition:</b> <a href="handlebars__helpers__ht_8h_source.html#l00052">handlebars_helpers_ht.h:52</a></div></div>
<div class="ttc" id="handlebars__map_8c_html_a3bf971ea41167396132d858f105f7fc8"><div class="ttname"><a href="handlebars__map_8c.html#a3bf971ea41167396132d858f105f7fc8">_entry_find</a></div><div class="ttdeci">static struct handlebars_map_entry * _entry_find(struct handlebars_map *map, const char *key, size_t length, unsigned long hash)</div><div class="ttdef"><b>Definition:</b> <a href="handlebars__map_8c_source.html#l00126">handlebars_map.c:126</a></div></div>
<div class="ttc" id="handlebars__map_8c_html_af085906db3ed04a2104f654f3be91890"><div class="ttname"><a href="handlebars__map_8c.html#af085906db3ed04a2104f654f3be91890">_entry_remove</a></div><div class="ttdeci">static void _entry_remove(struct handlebars_map *map, struct handlebars_map_entry *entry)</div><div class="ttdef"><b>Definition:</b> <a href="handlebars__map_8c_source.html#l00167">handlebars_map.c:167</a></div></div>
<div class="ttc" id="handlebars__string_8h_html_a0d1c0162a233be0d6dcd7fa70567c6ab"><div class="ttname"><a href="handlebars__string_8h.html#a0d1c0162a233be0d6dcd7fa70567c6ab">handlebars_string_hash</a></div><div class="ttdeci">static unsigned long handlebars_string_hash(const char *str, size_t len)</div><div class="ttdef"><b>Definition:</b> <a href="handlebars__string_8h_source.html#l00063">handlebars_string.h:63</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a12e81c20cb3765b99cb40e1a4530b962"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void handlebars_map_str_update </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structhandlebars__map.html">handlebars_map</a> *&#160;</td>
          <td class="paramname"><em>map</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structhandlebars__value.html">handlebars_value</a> *&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Update or add a value (const char[] with length variant) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">map</td><td></td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">key</td><td></td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">len</td><td></td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">value</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>

<p>Definition at line <a class="el" href="handlebars__map_8c_source.html#l00291">291</a> of file <a class="el" href="handlebars__map_8c_source.html">handlebars_map.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;{</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    <span class="keyword">struct </span><a class="code" href="structhandlebars__string.html">handlebars_string</a> * <span class="keywordtype">string</span> = talloc_steal(map, handlebars_string_ctor(<a class="code" href="handlebars__map_8c.html#af195e2296079bbf21ae1c19823f0f036">CONTEXT</a>, key, <a class="code" href="handlebars__helpers__ht_8h.html#adf41794220897ad98a5856b62c8d51a9">len</a>));</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    <span class="keyword">struct </span><a class="code" href="structhandlebars__map__entry.html">handlebars_map_entry</a> * entry = <a class="code" href="handlebars__map_8c.html#a3bf971ea41167396132d858f105f7fc8">_entry_find</a>(map, string-&gt;<a class="code" href="structhandlebars__string.html#a456ab79b6ad1d1f3bf8aa6c183a8abfc">val</a>, string-&gt;<a class="code" href="structhandlebars__string.html#a857b514c991646164995d912822c4e93">len</a>, <a class="code" href="handlebars__string_8h.html#ad9a8e1ff73d128e3acad70c42ba2fb41">HBS_STR_HASH</a>(<span class="keywordtype">string</span>));</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;    <span class="keywordflow">if</span>( entry ) {</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;        <a class="code" href="handlebars__value_8h.html#aa12eab96e415cfe8bac503efc9057c06">handlebars_value_delref</a>(entry-&gt;<a class="code" href="structhandlebars__map__entry.html#af967f0018a3976ecc23e5ae91deca8e4">value</a>);</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;        entry-&gt;<a class="code" href="structhandlebars__map__entry.html#af967f0018a3976ecc23e5ae91deca8e4">value</a> = <a class="code" href="structhandlebars__map__entry.html#af967f0018a3976ecc23e5ae91deca8e4">value</a>;</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;        <a class="code" href="handlebars__value_8h.html#a0ebd8b740bbe25c2adce618cdeee631a">handlebars_value_addref</a>(entry-&gt;<a class="code" href="structhandlebars__map__entry.html#af967f0018a3976ecc23e5ae91deca8e4">value</a>);</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;        <a class="code" href="handlebars__memory_8h.html#aeb07c4a0272c512f8a8d694e5b8b97ef">handlebars_talloc_free</a>(<span class="keywordtype">string</span>);</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;        <a class="code" href="handlebars__map_8c.html#a4540f81e8fb570371a1fb84858957b03">_entry_add</a>(map, string-&gt;<a class="code" href="structhandlebars__string.html#a456ab79b6ad1d1f3bf8aa6c183a8abfc">val</a>, string-&gt;<a class="code" href="structhandlebars__string.html#a857b514c991646164995d912822c4e93">len</a>, <a class="code" href="handlebars__string_8h.html#ad9a8e1ff73d128e3acad70c42ba2fb41">HBS_STR_HASH</a>(<span class="keywordtype">string</span>), value);</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    }</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;}</div><div class="ttc" id="structhandlebars__map__entry_html"><div class="ttname"><a href="structhandlebars__map__entry.html">handlebars_map_entry</a></div><div class="ttdef"><b>Definition:</b> <a href="handlebars__map_8h_source.html#l00032">handlebars_map.h:32</a></div></div>
<div class="ttc" id="structhandlebars__map__entry_html_af967f0018a3976ecc23e5ae91deca8e4"><div class="ttname"><a href="structhandlebars__map__entry.html#af967f0018a3976ecc23e5ae91deca8e4">handlebars_map_entry::value</a></div><div class="ttdeci">struct handlebars_value * value</div><div class="ttdef"><b>Definition:</b> <a href="handlebars__map_8h_source.html#l00034">handlebars_map.h:34</a></div></div>
<div class="ttc" id="handlebars__memory_8h_html_aeb07c4a0272c512f8a8d694e5b8b97ef"><div class="ttname"><a href="handlebars__memory_8h.html#aeb07c4a0272c512f8a8d694e5b8b97ef">handlebars_talloc_free</a></div><div class="ttdeci">#define handlebars_talloc_free</div><div class="ttdef"><b>Definition:</b> <a href="handlebars__memory_8h_source.html#l00043">handlebars_memory.h:43</a></div></div>
<div class="ttc" id="structhandlebars__string_html_a857b514c991646164995d912822c4e93"><div class="ttname"><a href="structhandlebars__string.html#a857b514c991646164995d912822c4e93">handlebars_string::len</a></div><div class="ttdeci">size_t len</div><div class="ttdef"><b>Definition:</b> <a href="handlebars__string_8h_source.html#l00040">handlebars_string.h:40</a></div></div>
<div class="ttc" id="handlebars__map_8c_html_a4540f81e8fb570371a1fb84858957b03"><div class="ttname"><a href="handlebars__map_8c.html#a4540f81e8fb570371a1fb84858957b03">_entry_add</a></div><div class="ttdeci">static void _entry_add(struct handlebars_map *map, const char *key, size_t len, unsigned long hash, struct handlebars_value *value)</div><div class="ttdef"><b>Definition:</b> <a href="handlebars__map_8c_source.html#l00140">handlebars_map.c:140</a></div></div>
<div class="ttc" id="handlebars__helpers__ht_8h_html_adf41794220897ad98a5856b62c8d51a9"><div class="ttname"><a href="handlebars__helpers__ht_8h.html#adf41794220897ad98a5856b62c8d51a9">len</a></div><div class="ttdeci">register unsigned int len</div><div class="ttdef"><b>Definition:</b> <a href="handlebars__helpers__ht_8h_source.html#l00052">handlebars_helpers_ht.h:52</a></div></div>
<div class="ttc" id="structhandlebars__string_html_a456ab79b6ad1d1f3bf8aa6c183a8abfc"><div class="ttname"><a href="structhandlebars__string.html#a456ab79b6ad1d1f3bf8aa6c183a8abfc">handlebars_string::val</a></div><div class="ttdeci">char val[]</div><div class="ttdef"><b>Definition:</b> <a href="handlebars__string_8h_source.html#l00042">handlebars_string.h:42</a></div></div>
<div class="ttc" id="structhandlebars__string_html"><div class="ttname"><a href="structhandlebars__string.html">handlebars_string</a></div><div class="ttdef"><b>Definition:</b> <a href="handlebars__string_8h_source.html#l00039">handlebars_string.h:39</a></div></div>
<div class="ttc" id="handlebars__map_8c_html_a3bf971ea41167396132d858f105f7fc8"><div class="ttname"><a href="handlebars__map_8c.html#a3bf971ea41167396132d858f105f7fc8">_entry_find</a></div><div class="ttdeci">static struct handlebars_map_entry * _entry_find(struct handlebars_map *map, const char *key, size_t length, unsigned long hash)</div><div class="ttdef"><b>Definition:</b> <a href="handlebars__map_8c_source.html#l00126">handlebars_map.c:126</a></div></div>
<div class="ttc" id="handlebars__string_8h_html_ad9a8e1ff73d128e3acad70c42ba2fb41"><div class="ttname"><a href="handlebars__string_8h.html#ad9a8e1ff73d128e3acad70c42ba2fb41">HBS_STR_HASH</a></div><div class="ttdeci">#define HBS_STR_HASH(string)</div><div class="ttdef"><b>Definition:</b> <a href="handlebars__string_8h_source.html#l00047">handlebars_string.h:47</a></div></div>
<div class="ttc" id="handlebars__map_8c_html_af195e2296079bbf21ae1c19823f0f036"><div class="ttname"><a href="handlebars__map_8c.html#af195e2296079bbf21ae1c19823f0f036">CONTEXT</a></div><div class="ttdeci">#define CONTEXT</div><div class="ttdef"><b>Definition:</b> <a href="handlebars__map_8c_source.html#l00050">handlebars_map.c:50</a></div></div>
<div class="ttc" id="handlebars__value_8h_html_a0ebd8b740bbe25c2adce618cdeee631a"><div class="ttname"><a href="handlebars__value_8h.html#a0ebd8b740bbe25c2adce618cdeee631a">handlebars_value_addref</a></div><div class="ttdeci">static int handlebars_value_addref(struct handlebars_value *value)</div><div class="ttdef"><b>Definition:</b> <a href="handlebars__value_8h_source.html#l00318">handlebars_value.h:318</a></div></div>
<div class="ttc" id="handlebars__value_8h_html_aa12eab96e415cfe8bac503efc9057c06"><div class="ttname"><a href="handlebars__value_8h.html#aa12eab96e415cfe8bac503efc9057c06">handlebars_value_delref</a></div><div class="ttdeci">static int handlebars_value_delref(struct handlebars_value *value)</div><div class="ttdef"><b>Definition:</b> <a href="handlebars__value_8h_source.html#l00344">handlebars_value.h:344</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa6d46b8067c6426d9311c82b2c549019"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void handlebars_map_update </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structhandlebars__map.html">handlebars_map</a> *&#160;</td>
          <td class="paramname"><em>map</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structhandlebars__string.html">handlebars_string</a> *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structhandlebars__value.html">handlebars_value</a> *&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Update or add a value (<a class="el" href="structhandlebars__string.html">handlebars_string</a> variant) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">map</td><td></td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">key</td><td></td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">value</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>

<p>Definition at line <a class="el" href="handlebars__map_8c_source.html#l00279">279</a> of file <a class="el" href="handlebars__map_8c_source.html">handlebars_map.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;{</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    <span class="keyword">struct </span><a class="code" href="structhandlebars__map__entry.html">handlebars_map_entry</a> * entry = <a class="code" href="handlebars__map_8c.html#a3bf971ea41167396132d858f105f7fc8">_entry_find</a>(map, key-&gt;<a class="code" href="structhandlebars__string.html#a456ab79b6ad1d1f3bf8aa6c183a8abfc">val</a>, key-&gt;<a class="code" href="structhandlebars__string.html#a857b514c991646164995d912822c4e93">len</a>, <a class="code" href="handlebars__string_8h.html#ad9a8e1ff73d128e3acad70c42ba2fb41">HBS_STR_HASH</a>(key));</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    <span class="keywordflow">if</span>( entry ) {</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;        <a class="code" href="handlebars__value_8h.html#aa12eab96e415cfe8bac503efc9057c06">handlebars_value_delref</a>(entry-&gt;<a class="code" href="structhandlebars__map__entry.html#af967f0018a3976ecc23e5ae91deca8e4">value</a>);</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;        entry-&gt;<a class="code" href="structhandlebars__map__entry.html#af967f0018a3976ecc23e5ae91deca8e4">value</a> = <a class="code" href="structhandlebars__map__entry.html#af967f0018a3976ecc23e5ae91deca8e4">value</a>;</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;        <a class="code" href="handlebars__value_8h.html#a0ebd8b740bbe25c2adce618cdeee631a">handlebars_value_addref</a>(entry-&gt;<a class="code" href="structhandlebars__map__entry.html#af967f0018a3976ecc23e5ae91deca8e4">value</a>);</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;        <a class="code" href="handlebars__map_8c.html#a4540f81e8fb570371a1fb84858957b03">_entry_add</a>(map, key-&gt;<a class="code" href="structhandlebars__string.html#a456ab79b6ad1d1f3bf8aa6c183a8abfc">val</a>, key-&gt;<a class="code" href="structhandlebars__string.html#a857b514c991646164995d912822c4e93">len</a>, <a class="code" href="handlebars__string_8h.html#ad9a8e1ff73d128e3acad70c42ba2fb41">HBS_STR_HASH</a>(key), value);</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    }</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;}</div><div class="ttc" id="structhandlebars__map__entry_html"><div class="ttname"><a href="structhandlebars__map__entry.html">handlebars_map_entry</a></div><div class="ttdef"><b>Definition:</b> <a href="handlebars__map_8h_source.html#l00032">handlebars_map.h:32</a></div></div>
<div class="ttc" id="structhandlebars__map__entry_html_af967f0018a3976ecc23e5ae91deca8e4"><div class="ttname"><a href="structhandlebars__map__entry.html#af967f0018a3976ecc23e5ae91deca8e4">handlebars_map_entry::value</a></div><div class="ttdeci">struct handlebars_value * value</div><div class="ttdef"><b>Definition:</b> <a href="handlebars__map_8h_source.html#l00034">handlebars_map.h:34</a></div></div>
<div class="ttc" id="structhandlebars__string_html_a857b514c991646164995d912822c4e93"><div class="ttname"><a href="structhandlebars__string.html#a857b514c991646164995d912822c4e93">handlebars_string::len</a></div><div class="ttdeci">size_t len</div><div class="ttdef"><b>Definition:</b> <a href="handlebars__string_8h_source.html#l00040">handlebars_string.h:40</a></div></div>
<div class="ttc" id="handlebars__map_8c_html_a4540f81e8fb570371a1fb84858957b03"><div class="ttname"><a href="handlebars__map_8c.html#a4540f81e8fb570371a1fb84858957b03">_entry_add</a></div><div class="ttdeci">static void _entry_add(struct handlebars_map *map, const char *key, size_t len, unsigned long hash, struct handlebars_value *value)</div><div class="ttdef"><b>Definition:</b> <a href="handlebars__map_8c_source.html#l00140">handlebars_map.c:140</a></div></div>
<div class="ttc" id="structhandlebars__string_html_a456ab79b6ad1d1f3bf8aa6c183a8abfc"><div class="ttname"><a href="structhandlebars__string.html#a456ab79b6ad1d1f3bf8aa6c183a8abfc">handlebars_string::val</a></div><div class="ttdeci">char val[]</div><div class="ttdef"><b>Definition:</b> <a href="handlebars__string_8h_source.html#l00042">handlebars_string.h:42</a></div></div>
<div class="ttc" id="handlebars__map_8c_html_a3bf971ea41167396132d858f105f7fc8"><div class="ttname"><a href="handlebars__map_8c.html#a3bf971ea41167396132d858f105f7fc8">_entry_find</a></div><div class="ttdeci">static struct handlebars_map_entry * _entry_find(struct handlebars_map *map, const char *key, size_t length, unsigned long hash)</div><div class="ttdef"><b>Definition:</b> <a href="handlebars__map_8c_source.html#l00126">handlebars_map.c:126</a></div></div>
<div class="ttc" id="handlebars__string_8h_html_ad9a8e1ff73d128e3acad70c42ba2fb41"><div class="ttname"><a href="handlebars__string_8h.html#ad9a8e1ff73d128e3acad70c42ba2fb41">HBS_STR_HASH</a></div><div class="ttdeci">#define HBS_STR_HASH(string)</div><div class="ttdef"><b>Definition:</b> <a href="handlebars__string_8h_source.html#l00047">handlebars_string.h:47</a></div></div>
<div class="ttc" id="handlebars__value_8h_html_a0ebd8b740bbe25c2adce618cdeee631a"><div class="ttname"><a href="handlebars__value_8h.html#a0ebd8b740bbe25c2adce618cdeee631a">handlebars_value_addref</a></div><div class="ttdeci">static int handlebars_value_addref(struct handlebars_value *value)</div><div class="ttdef"><b>Definition:</b> <a href="handlebars__value_8h_source.html#l00318">handlebars_value.h:318</a></div></div>
<div class="ttc" id="handlebars__value_8h_html_aa12eab96e415cfe8bac503efc9057c06"><div class="ttname"><a href="handlebars__value_8h.html#aa12eab96e415cfe8bac503efc9057c06">handlebars_value_delref</a></div><div class="ttdeci">static int handlebars_value_delref(struct handlebars_value *value)</div><div class="ttdef"><b>Definition:</b> <a href="handlebars__value_8h_source.html#l00344">handlebars_value.h:344</a></div></div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="handlebars__map_8c.html">handlebars_map.c</a></li>
    <li class="footer">Generated on Thu Mar 9 2017 12:59:46 for handlebars.c by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
